<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bioscan | Temperature</title>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
  /* --- CSS Styles --- */
  :root { --primary-color: #ff7e5f; --danger-color: #ff0000; --bg-gradient: linear-gradient(135deg, #0f2027, #203a43, #2c5364); --glass-bg: rgba(255, 255, 255, 0.1); --glass-border: rgba(255, 255, 255, 0.2); --text-color: #ffffff; }
  body { font-family: 'Poppins', sans-serif; background: var(--bg-gradient); background-size: 400% 400%; animation: gradientBG 15s ease infinite; min-height: 100vh; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; color: var(--text-color); overflow-x: hidden; transition: background 0.5s; }
  @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
  
  /* SOS Styles */
  @keyframes sos-flash { 0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); border-color: red; } 50% { box-shadow: 0 0 50px 20px rgba(255, 0, 0, 0.5); border-color: #ff4d4d; background: rgba(50, 0, 0, 0.6); } 100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); border-color: red; } }
  .critical-state { animation: sos-flash 1s infinite; border: 2px solid red !important; }
  .critical-bg { background: radial-gradient(circle, #3a0000, #000) !important; }
  
  header { width: 100%; background: rgba(15, 32, 39, 0.9); backdrop-filter: blur(10px); padding: 15px 0; display: flex; justify-content: center; align-items: center; position: relative; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5); z-index: 100; }
  header h1 { font-size: 1.4rem; margin: 0; font-weight: 600; letter-spacing: 1px; color: var(--primary-color); text-transform: uppercase; pointer-events: none; }
  .back-btn { position: absolute; left: 20px; background: rgba(255, 255, 255, 0.1); border: 1px solid var(--primary-color); color: white; padding: 8px 15px; border-radius: 50px; cursor: pointer; font-size: 14px; transition: 0.3s; display: flex; align-items: center; gap: 5px; z-index: 1000; }
  .back-btn:hover { background: var(--primary-color); color: #fff; box-shadow: 0 0 15px rgba(255, 126, 95, 0.5); }
  
  .container { display: flex; flex-direction: column; justify-content: center; align-items: center; flex-grow: 1; width: 100%; padding: 20px; }
  .card { background: var(--glass-bg); backdrop-filter: blur(16px); border: 1px solid var(--glass-border); border-radius: 25px; padding: 40px; width: 100%; max-width: 500px; text-align: center; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); transition: 0.3s; }
  .sos-banner { display: none; background: red; color: white; font-weight: bold; padding: 10px; border-radius: 10px; margin-bottom: 15px; animation: blink 0.5s infinite alternate; }
  @keyframes blink { from { opacity: 1; } to { opacity: 0.7; } }

  /* --- THERMOMETER ANIMATION CSS --- */
  .thermo-container { margin: 20px auto 30px; position: relative; width: 80px; height: 200px; display: flex; justify-content: center; }
  .thermo-glass {
    width: 24px; height: 160px; background: rgba(255, 255, 255, 0.1);
    border: 3px solid rgba(255, 255, 255, 0.4); border-radius: 20px 20px 0 0; border-bottom: none;
    position: relative; z-index: 2; overflow: hidden; backdrop-filter: blur(2px);
  }
  .thermo-liquid {
    width: 100%; height: 0%; /* Dynamic Height */
    background: linear-gradient(to top, #ff416c, #ff4b2b);
    position: absolute; bottom: 0; left: 0;
    transition: height 1s cubic-bezier(0.4, 0, 0.2, 1), background 0.3s;
    box-shadow: 0 0 15px rgba(255, 65, 108, 0.5);
  }
  .thermo-bulb {
    width: 50px; height: 50px; background: #ff416c;
    border-radius: 50%; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
    border: 3px solid rgba(255, 255, 255, 0.4);
    z-index: 1; box-shadow: 0 0 20px rgba(255, 65, 108, 0.6);
    transition: background 0.3s, box-shadow 0.3s;
  }
  .thermo-graduations {
    position: absolute; top: 10px; right: 10px; height: 140px; display: flex; flex-direction: column; justify-content: space-between; align-items: flex-end; color: rgba(255,255,255,0.5); font-size: 0.7rem;
  }
  /* High Temp State */
  .high-temp .thermo-liquid, .high-temp .thermo-bulb {
    background: #ff0000; box-shadow: 0 0 30px #ff0000;
  }

  .temp-box { background: rgba(0, 0, 0, 0.3); border-radius: 15px; padding: 20px; margin: 10px 0 20px; border: 1px solid rgba(255, 126, 95, 0.3); }
  #tempValue { font-size: 3rem; font-weight: 700; color: #fff; text-shadow: 0 0 15px var(--primary-color); }
  .unit { font-size: 1.5rem; color: var(--primary-color); }
  
  .instructions-list { list-style: none; padding: 0; text-align: left; margin-bottom: 30px; }
  .instructions-list li { margin-bottom: 12px; display: flex; align-items: center; gap: 10px; font-size: 0.95rem; color: #e0e0e0; }
  .instructions-list li i { color: var(--primary-color); width: 25px; text-align: center; }
  
  .actions-row { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
  .advice-btn, .voice-btn, .save-btn { padding: 12px 20px; border-radius: 50px; border: none; cursor: pointer; font-size: 16px; font-weight: 600; font-family: 'Poppins', sans-serif; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px; }
  .advice-btn { flex: 2; background: linear-gradient(45deg, #ff7e5f, #feb47b); color: white; box-shadow: 0 4px 15px rgba(255, 126, 95, 0.4); }
  .save-btn { flex: 2; background: linear-gradient(45deg, #11998e, #38ef7d); color: white; box-shadow: 0 4px 15px rgba(56, 239, 125, 0.4); }
  .voice-btn { flex: 1; background: rgba(255,255,255,0.1); border: 1px solid var(--primary-color); color: var(--primary-color); }
  .advice-btn:hover, .voice-btn:hover, .save-btn:hover { transform: translateY(-3px); }
  .voice-btn:hover { background: var(--primary-color); color: white; }
  .advice-box { background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 15px; margin-top: 20px; display: none; font-size: 1.1rem; color: #fff; border-left: 4px solid var(--primary-color); animation: slideDown 0.5s ease; }
  @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

  /* Modal Styles */
  .confirm-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); z-index: 5000; display: none; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s ease; }
  .confirm-modal.active { display: flex; opacity: 1; }
  .confirm-content { background: linear-gradient(145deg, #152229, #1c2e36); border: 2px solid var(--primary-color); border-radius: 25px; width: 90%; max-width: 400px; padding: 30px; text-align: center; box-shadow: 0 0 50px rgba(255, 126, 95, 0.3); transform: scale(0.8); transition: transform 0.3s ease; }
  .confirm-modal.active .confirm-content { transform: scale(1); }
  .success-icon { font-size: 4rem; color: var(--primary-color); margin-bottom: 20px; animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); }
  @keyframes popIn { 0% { transform: scale(0); } 80% { transform: scale(1.2); } 100% { transform: scale(1); } }
  .confirm-title { font-size: 1.5rem; margin-bottom: 10px; color: #fff; }
  .confirm-text { color: #ccc; margin-bottom: 25px; font-size: 0.95rem; }
  .confirm-btn { background: var(--primary-color); color: #fff; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 700; cursor: pointer; font-size: 1rem; transition: 0.3s; }
  .confirm-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(255, 126, 95, 0.6); }

  /* --- MOBILE RESPONSIVE --- */
  @media (max-width: 768px) {
    header { padding: 10px 15px; }
    header h1 { font-size: 1.1rem; letter-spacing: 0.5px; }
    .back-btn { left: 10px; padding: 6px 12px; font-size: 13px; }
    .back-btn span { display: none; }
    
    .container { padding: 15px 10px; }
    .card { padding: 25px 20px; border-radius: 20px; max-width: 100%; }
    
    .thermo-container { width: 70px; height: 180px; margin: 15px auto 25px; }
    .thermo-glass { width: 20px; height: 140px; }
    .thermo-bulb { width: 42px; height: 42px; }
    .thermo-graduations { font-size: 0.6rem; right: 8px; height: 120px; }
    
    .temp-box { padding: 15px; margin: 8px 0 18px; }
    #tempValue { font-size: 2.5rem; }
    .unit { font-size: 1.2rem; }
    
    .sos-banner { font-size: 0.9rem; padding: 8px; margin-bottom: 12px; }
    
    h3 { font-size: 1.1rem; margin-bottom: 12px; }
    
    .instructions-list { margin-bottom: 20px; }
    .instructions-list li { font-size: 0.85rem; margin-bottom: 10px; gap: 8px; }
    .instructions-list li i { width: 20px; font-size: 0.9rem; }
    
    .actions-row { gap: 8px; }
    .advice-btn, .save-btn, .voice-btn { padding: 10px 16px; font-size: 14px; border-radius: 40px; }
    .voice-btn { flex: 0.8; min-width: 45px; }
    
    .advice-box { font-size: 0.95rem; padding: 12px; margin-top: 15px; }
    
    .confirm-content { padding: 25px 20px; width: 92%; max-width: 350px; }
    .success-icon { font-size: 3rem; margin-bottom: 15px; }
    .confirm-title { font-size: 1.3rem; }
    .confirm-text { font-size: 0.85rem; margin-bottom: 20px; }
    .confirm-btn { padding: 10px 25px; font-size: 0.95rem; }
  }

  @media (max-width: 480px) {
    header h1 { font-size: 1rem; }
    .back-btn { padding: 5px 10px; font-size: 12px; }
    
    .card { padding: 20px 15px; }
    
    .thermo-container { width: 60px; height: 160px; margin: 12px auto 20px; }
    .thermo-glass { width: 18px; height: 120px; }
    .thermo-bulb { width: 38px; height: 38px; }
    .thermo-graduations { font-size: 0.55rem; right: 5px; height: 100px; }
    
    .temp-box { padding: 12px; }
    #tempValue { font-size: 2.2rem; }
    .unit { font-size: 1.1rem; }
    
    .instructions-list li { font-size: 0.8rem; }
    
    .advice-btn, .save-btn { padding: 9px 14px; font-size: 13px; }
    .voice-btn { padding: 9px 12px; }
    
    .confirm-content { padding: 20px 15px; }
    .success-icon { font-size: 2.5rem; }
    .confirm-title { font-size: 1.2rem; }
    .confirm-text { font-size: 0.8rem; }
  }

  /* --- HEADER IMPROVEMENTS --- */
  .user-card { 
    position: fixed; top: 0; left: 0; width: 100%; height: 75px;
    background: rgba(5, 10, 18, 0.98); backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--primary-neon); 
    box-shadow: 0 0 25px rgba(0, 242, 255, 0.15); z-index: 100;
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 20px;
  }

  /* Mobile optimizations */
  @media (max-width: 600px) {
    body { padding-top: 75px; }
    
    header { 
        height: 60px; 
        padding: 0 10px;
    }
    
    header h1 { 
        font-size: 0.95rem; 
        letter-spacing: 0.5px;
    }
    
    .back-btn { 
        left: 8px;
        padding: 6px 10px;
        font-size: 0.85rem;
    }

    .container {
        padding: 20px 15px;
    }

    .measurement-card {
        width: calc(100% - 20px);
        max-width: 450px;
        margin: 0 auto;
        padding: 25px 18px;
    }

    .card-icon {
        font-size: 2.8rem;
        margin-bottom: 12px;
    }

    .measure-title {
        font-size: 1.15rem;
        margin-bottom: 8px;
    }

    .measure-value {
        font-size: 2rem;
        margin: 12px 0;
    }

    .measure-subtitle {
        font-size: 0.8rem;
    }

    .info-grid {
        gap: 8px;
        margin: 15px 0;
    }

    .info-item {
        padding: 10px 8px;
    }

    .info-label {
        font-size: 0.7rem;
    }

    .info-value {
        font-size: 0.9rem;
    }

    .status-badge {
        padding: 8px 15px;
        font-size: 0.75rem;
        margin: 12px 0;
    }

    .card-actions {
        gap: 8px;
        margin-top: 15px;
        flex-direction: column;
    }

    .action-btn {
        width: 100%;
        padding: 12px 18px;
        font-size: 0.85rem;
    }

    .modal-content {
        width: calc(100% - 30px);
        max-width: 350px;
        padding: 25px 18px;
    }

    .qr-title {
        font-size: 1rem;
        margin-bottom: 12px;
    }

    #qrcode {
        width: 170px !important;
        height: 170px !important;
    }

    #qrcode canvas,
    #qrcode img {
        width: 170px !important;
        height: 170px !important;
    }

    .modal-btn {
        padding: 10px 20px;
        font-size: 0.85rem;
    }
  }

  @media (max-width: 400px) {
    header {
        height: 55px;
    }

    header h1 {
        font-size: 0.85rem;
    }

    .back-btn {
        padding: 5px 8px;
        font-size: 0.8rem;
    }

    .measurement-card {
        width: calc(100% - 16px);
        padding: 20px 15px;
    }

    .measure-value {
        font-size: 1.8rem;
    }

    .card-icon {
        font-size: 2.5rem;
    }
  }
</style>
</head>
<body>

<div id="confirmModal" class="confirm-modal">
  <div class="confirm-content">
    <div class="success-icon"><i class="fas fa-check-circle"></i></div>
    <h3 class="confirm-title" id="modalTitle">Success!</h3>
    <p class="confirm-text" id="modalText">Measurement saved successfully.</p>
    <button class="confirm-btn" onclick="closeConfirmModal()">OK</button>
  </div>
</div>

<audio id="alarmSound" loop>
  <source src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3" type="audio/mpeg">
</audio>

<header>
  <button id="backBtn" class="back-btn" onclick="goBack()">
    <i class="fas fa-arrow-left"></i> <span>Back</span>
  </button>
  <h1 id="headerTitle">Temperature</h1>
</header>

<div class="container">
  <div id="sosBanner" class="sos-banner"><i class="fas fa-exclamation-triangle"></i> CRITICAL FEVER / ALERT</div>
  
  <div class="card" id="mainCard">
    
    <div class="thermo-container" id="thermoContainer">
        <div class="thermo-graduations">
            <span>42¬∞</span><span>40¬∞</span><span>38¬∞</span><span>36¬∞</span><span>34¬∞</span>
        </div>
        <div class="thermo-glass">
            <div class="thermo-liquid" id="thermoLiquid"></div>
        </div>
        <div class="thermo-bulb"></div>
    </div>

    <div class="temp-box">
      <span id="tempValue">--</span> <span class="unit">¬∞C</span>
    </div>
    
    <h3 id="instrTitle" style="color: var(--primary-color); font-weight: 400; margin-bottom: 15px;">Instructions</h3>
    <ul class="instructions-list" id="instructions">
      <li><i class="fas fa-bullseye"></i> Place the sensor close to the skin.</li>
      <li><i class="fas fa-user-clock"></i> Keep still (3-5s).</li>
      <li><i class="fas fa-wind"></i> Avoid sunlight.</li>
    </ul>
    
    <div class="actions-row">
      <button class="save-btn" id="saveBtn" onclick="saveMeasurement()">
        <i class="fas fa-save"></i> <span id="saveBtnText">Save</span>
      </button>
      <button class="advice-btn" id="adviceBtn" onclick="showAdvice()">
        <i class="fas fa-user-md"></i> <span id="btnText">Medical Advice</span>
      </button>
      <button class="voice-btn" onclick="speakResult()"><i class="fas fa-volume-up"></i></button>
    </div>
    <div class="advice-box" id="adviceBox"></div>
  </div>
</div>

<script>
  // --- 1. Config ---
  const firebaseConfig = {
    apiKey: "AIzaSyAOwMQhsRM2PdD_FLjW_8Oi1WlFS3EO5pY",
    authDomain: "smart-a76a0.firebaseapp.com",
    databaseURL: "https://smart-a76a0-default-rtdb.firebaseio.com",
    projectId: "smart-a76a0",
    messagingSenderId: "343693501983",
    appId: "1:343693501983:web:10ea3fce9d990a2455172a"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const auth = firebase.auth();
  auth.signInAnonymously().catch(console.error);

  const tempBox = document.getElementById("tempValue");
  const adviceBox = document.getElementById("adviceBox");
  const sosBanner = document.getElementById("sosBanner");
  const mainCard = document.getElementById("mainCard");
  const alarmSound = document.getElementById("alarmSound");
  const userId = localStorage.getItem("selectedUserId");
  const PATIENT_DATA_PATH = "PatientData";
  let isCritical = false;

  // --- 2. Live Reading & Animation Logic ---
  function updateThermometerUI(val) {
      if(isNaN(val)) return;
      tempBox.innerText = val;
      
      // Calculate Percentage (Range 34 - 42)
      // If 34 -> 0%, If 42 -> 100%
      const minTemp = 34;
      const maxTemp = 42;
      let percentage = ((val - minTemp) / (maxTemp - minTemp)) * 100;
      
      // Clamp percentage between 5% and 100%
      if(percentage < 5) percentage = 5;
      if(percentage > 100) percentage = 100;
      
      document.getElementById('thermoLiquid').style.height = percentage + "%";

      // Visual Alert for Fever
      const container = document.getElementById('thermoContainer');
      if(val > 38.0) container.classList.add('high-temp');
      else container.classList.remove('high-temp');

      // SOS Logic
      if (val > 38.5 || val < 35.0) triggerSOS();
      else clearSOS();
  }

  if (userId) {
    db.ref(PATIENT_DATA_PATH + "/" + userId + "/SensorData").on("value", snapshot => {
       const str = snapshot.val() || "";
       if(str && str.includes("Temp=")) {
           const parts = str.split(",");
           const tempPart = parts.find(p => p.trim().toLowerCase().startsWith("temp="));
           if(tempPart) {
               const val = parseFloat(tempPart.split("=")[1]);
               updateThermometerUI(val);
           }
       }
    });
  }

  // --- 3. Save Function ---
  function saveMeasurement() {
    const val = tempBox.innerText;
    if (val === "--" || val === "") return;
    if (!userId) { window.location.href = "index.html"; return; }
    
    let sessionId = localStorage.getItem("currentSessionId");
    if (!sessionId) {
        sessionId = Date.now().toString();
        localStorage.setItem("currentSessionId", sessionId);
    }

    const timestamp = new Date().toLocaleString();
    db.ref(`${PATIENT_DATA_PATH}/${userId}/History/${sessionId}`).update({
        temperature: val,
        createdAt: timestamp
    });
    
    db.ref(`${PATIENT_DATA_PATH}/${userId}/SensorData`).once('value').then(snapshot => {
        let currentStr = snapshot.val() || "";
        if (currentStr.includes("Temp=")) currentStr = currentStr.replace(/Temp=[^,]+/, `Temp=${val}`);
        else if (currentStr === "No measurement recorded yet") currentStr = `Temp=${val}`;
        else currentStr = currentStr ? `${currentStr}, Temp=${val}` : `Temp=${val}`;
        
        db.ref(`${PATIENT_DATA_PATH}/${userId}`).update({ SensorData: currentStr, Timestamp: timestamp })
          .then(() => showConfirmModal());
    });
  }

  // --- Helpers ---
  function showConfirmModal() {
      const isAr = localStorage.getItem("language") === "ar";
      document.getElementById("modalTitle").innerText = isAr ? "ÿ™ŸÖ ÿ®ŸÜÿ¨ÿßÿ≠!" : "Success!";
      document.getElementById("modalText").innerText = isAr ? "ÿ™ŸÖ ÿ≠ŸÅÿ∏ ŸÇŸäÿßÿ≥ ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ© ÿ®ŸÜÿ¨ÿßÿ≠." : "Temperature saved successfully.";
      document.querySelector(".confirm-btn").innerText = isAr ? "ÿ≠ÿ≥ŸÜÿßŸã" : "OK";
      const modal = document.getElementById("confirmModal");
      modal.style.display = "flex";
      setTimeout(() => modal.classList.add("active"), 10);
  }
  function closeConfirmModal() {
      const modal = document.getElementById("confirmModal");
      modal.classList.remove("active");
      setTimeout(() => modal.style.display = "none", 300);
  }

  function triggerSOS() { if(isCritical) return; isCritical = true; document.body.classList.add("critical-bg"); mainCard.classList.add("critical-state"); sosBanner.style.display = "block"; alarmSound.play().catch(e=>{}); const lang = localStorage.getItem("language") || "en"; sosBanner.innerText = lang === "ar" ? "üö® ÿ™ŸÜÿ®ŸäŸá: ÿ≠ÿ±ÿßÿ±ÿ© ÿ≠ÿ±ÿ¨ÿ©!" : "üö® CRITICAL ALERT!"; }
  function clearSOS() { if(!isCritical) return; isCritical = false; document.body.classList.remove("critical-bg"); mainCard.classList.remove("critical-state"); sosBanner.style.display = "none"; alarmSound.pause(); alarmSound.currentTime = 0; }
  
  function speakResult() {
    let temp = parseFloat(tempBox.innerText);
    const lang = localStorage.getItem("language") || "en";
    let text = (lang === "ar") ? `ÿØÿ±ÿ¨ÿ© ÿ≠ÿ±ÿßÿ±ÿ™ŸÉ ${temp}` : `Your temperature is ${temp}`;
    if(!isNaN(temp)) window.speechSynthesis.speak(new SpeechSynthesisUtterance(text));
  }

  function showAdvice() {
    let temp = parseFloat(tempBox.innerText);
    const lang = localStorage.getItem("language") || "en";
    let txt = "";
    if (isNaN(temp)) txt = lang === "ar" ? "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™." : "No data.";
    else if (temp > 38) { txt = lang === "ar" ? "ÿ≠ÿ±ÿßÿ±ÿ© ÿπÿßŸÑŸäÿ©! ÿßÿ≥ÿ™ÿ¥ÿ± ÿ∑ÿ®Ÿäÿ®." : "High fever! Consult doctor."; adviceBox.style.borderLeftColor = "#ff0000"; }
    else { txt = lang === "ar" ? "ÿ≠ÿ±ÿßÿ±ÿ© ÿ∑ÿ®ŸäÿπŸäÿ©." : "Normal temperature."; adviceBox.style.borderLeftColor = "#00ff88"; }
    adviceBox.innerText = txt; adviceBox.style.display = "block";
  }

  function goBack() { clearSOS(); window.location.href = "measurements.html"; }

  const lang = localStorage.getItem("language") || "en";
  if (lang === "ar") {
    document.body.style.direction = "rtl";
    document.getElementById("headerTitle").innerText = "ŸÇŸäÿßÿ≥ ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©";
    document.getElementById("backBtn").innerHTML = '<i class="fas fa-arrow-right"></i> <span>ÿπŸàÿØÿ©</span>';
    document.getElementById("backBtn").style.left="auto"; document.getElementById("backBtn").style.right="20px";
    document.getElementById("instrTitle").innerText = "ÿ™ÿπŸÑŸäŸÖÿßÿ™ ÿßŸÑŸÇŸäÿßÿ≥";
    document.getElementById("btnText").innerText = "ÿßŸÑŸÜÿµŸäÿ≠ÿ© ÿßŸÑÿ∑ÿ®Ÿäÿ©";
    document.getElementById("saveBtnText").innerText = "ÿ≠ŸÅÿ∏ ÿßŸÑŸÇŸäÿßÿ≥";
    document.getElementById("instructions").innerHTML = `<li><i class="fas fa-bullseye"></i> ÿ∂ÿπ ÿßŸÑŸÖÿ≥ÿ™ÿ¥ÿπÿ± ŸÇÿ±Ÿäÿ®ÿßŸã ŸÖŸÜ ÿßŸÑÿ¨ŸÑÿØ.</li><li><i class="fas fa-user-clock"></i> ÿßÿ´ÿ®ÿ™ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑŸÇŸäÿßÿ≥.</li>`;
  }
</script>

<div style="position: fixed; bottom: 10px; left: 10px; z-index: 9999; display: flex; gap: 5px;">
  <button onclick="updateThermometerUI(39.5)" style="background: red; color: white; border: none; padding: 8px; border-radius: 5px; cursor: pointer;">üö® Test Fever</button>
  <button onclick="updateThermometerUI(36.6)" style="background: green; color: white; border: none; padding: 8px; border-radius: 5px; cursor: pointer;">‚úÖ Test Normal</button>
</div>
</body>
</html>
