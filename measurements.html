<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Bioscan | Dashboard</title>
Â Â 
Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

Â  <style>
Â  Â  :root {
Â  Â  Â  --bg-gradient: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
Â  Â  Â  --glass-bg: rgba(255, 255, 255, 0.1);
Â  Â  Â  --glass-border: rgba(255, 255, 255, 0.2);
Â  Â  Â  --text-color: #ffffff;
Â  Â  Â  --history-color: #a18cd1;
Â  Â  Â  --ai-color: #00d2ff;
Â  Â  Â  --error-color: #ff416c;
Â  Â  Â  --success-color: #00ff88;
Â  Â  Â  --whatsapp-color: #25D366;
Â  Â  }

Â  Â  /* --- CUSTOM SCROLLBAR --- */
Â  Â  ::-webkit-scrollbar { width: 10px; }
Â  Â  ::-webkit-scrollbar-track { background: #1a1a1a; }
Â  Â  ::-webkit-scrollbar-thumb {
Â  Â  Â  background: linear-gradient(180deg, var(--ai-color), var(--history-color));Â 
Â  Â  Â  border-radius: 10px; border: 2px solid #1a1a1a;
Â  Â  }
Â  Â  ::-webkit-scrollbar-thumb:hover { background: var(--success-color); }

Â  Â  body {
Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  background: var(--bg-gradient);
Â  Â  Â  background-size: 400% 400%;
Â  Â  Â  animation: gradientBG 15s ease infinite;
Â  Â  Â  min-height: 100vh;
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 20px;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  color: var(--text-color);
Â  Â  Â  box-sizing: border-box;
Â  Â  Â  overflow-x: hidden;
Â  Â  }

Â  Â  @keyframes gradientBG {
Â  Â  Â  0% { background-position: 0% 50%; }
Â  Â  Â  50% { background-position: 100% 50%; }
Â  Â  Â  100% { background-position: 0% 50%; }
Â  Â  }

Â  Â  /* User Welcome Card */
Â  Â  .user-card {
Â  Â  Â  background: var(--glass-bg);
Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  border: 1px solid var(--glass-border);
Â  Â  Â  padding: 10px 30px;
Â  Â  Â  border-radius: 50px;
Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 15px;
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 900px;
Â  Â  Â  box-sizing: border-box;
Â  Â  Â  animation: slideDown 0.8s ease;
Â  Â  }

Â  Â  @keyframes slideDown {
Â  Â  Â  from { transform: translateY(-50px); opacity: 0; }
Â  Â  Â  to { transform: translateY(0); opacity: 1; }
Â  Â  }

Â  Â  .user-card i.fa-user-circle { font-size: 1.5rem; color: #00d2ff; }
Â  Â  .user-card h2 { margin: 0; font-size: 1.1rem; font-weight: 400; flex-grow: 1; }
Â  Â  .user-card span { font-weight: 600; color: #00d2ff; text-transform: uppercase; }

Â  Â  /* Top Buttons Group */
Â  Â  .top-actions { display: flex; align-items: center; gap: 10px; }

Â  Â  .icon-btn {
Â  Â  Â  background: transparent; border: none; color: white; cursor: pointer; font-size: 1.2rem;
Â  Â  Â  transition: 0.3s; padding: 5px; opacity: 0.8;
Â  Â  }
Â  Â  .icon-btn:hover { transform: scale(1.2); opacity: 1; color: var(--ai-color); }
Â  Â  .icon-btn.active { color: var(--success-color); text-shadow: 0 0 10px var(--success-color); }
Â  Â  .icon-btn.muted { color: var(--error-color); }
Â  Â Â 
Â  Â  .whatsapp-btn { color: var(--whatsapp-color) !important; }
Â  Â  .whatsapp-btn:hover { text-shadow: 0 0 10px var(--whatsapp-color); }

Â  Â  /* Status Dot */
Â  Â  .status-dot {
Â  Â  Â  width: 12px; height: 12px; border-radius: 50%;
Â  Â  Â  background-color: var(--success-color);
Â  Â  Â  box-shadow: 0 0 10px var(--success-color);
Â  Â  Â  transition: all 0.3s ease; margin-left: 15px;
Â  Â  }
Â  Â  .status-dot.offline {
Â  Â  Â  background-color: var(--error-color) !important;
Â  Â  Â  box-shadow: 0 0 15px var(--error-color) !important;
Â  Â  Â  animation: blinkRed 1s infinite;
Â  Â  }
Â  Â  @keyframes blinkRed { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

Â  Â  /* AI Analysis Card */
Â  Â  .ai-card {
Â  Â  Â  width: 100%; max-width: 900px;
Â  Â  Â  background: linear-gradient(135deg, rgba(0, 210, 255, 0.1), rgba(58, 123, 213, 0.1));
Â  Â  Â  border: 1px solid var(--ai-color);
Â  Â  Â  border-radius: 20px; padding: 20px;
Â  Â  Â  margin-bottom: 30px; display: flex; align-items: flex-start; gap: 20px;
Â  Â  Â  box-shadow: 0 0 20px rgba(0, 210, 255, 0.15);
Â  Â  Â  position: relative; overflow: hidden; box-sizing: border-box;
Â  Â  }
Â  Â  .ai-icon {
Â  Â  Â  font-size: 2.5rem; color: var(--ai-color); background: rgba(0, 0, 0, 0.2);
Â  Â  Â  width: 60px; height: 60px; border-radius: 50%;
Â  Â  Â  display: flex; justify-content: center; align-items: center; animation: pulseAI 2s infinite; flex-shrink: 0;
Â  Â  }
Â  Â  @keyframes pulseAI {
Â  Â  Â  0% { box-shadow: 0 0 0 0 rgba(0, 210, 255, 0.4); }
Â  Â  Â  70% { box-shadow: 0 0 0 10px rgba(0, 210, 255, 0); }
Â  Â  Â  100% { box-shadow: 0 0 0 0 rgba(0, 210, 255, 0); }
Â  Â  }
Â  Â  .ai-content h3 { margin: 0 0 5px 0; font-size: 1.1rem; color: var(--ai-color); }
Â  Â  .ai-content p { margin: 0; font-size: 0.95rem; line-height: 1.5; color: #eee; }

Â  Â  /* Grid Container */
Â  Â  .measure-container {
Â  Â  Â  display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
Â  Â  Â  gap: 20px; width: 100%; max-width: 900px; margin-bottom: 30px;
Â  Â  }
Â  Â  .measure-btn {
Â  Â  Â  background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(5px);
Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 25px 15px;
Â  Â  Â  display: flex; flex-direction: column; align-items: center; justify-content: center;
Â  Â  Â  gap: 15px; cursor: pointer; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
Â  Â  Â  position: relative; overflow: hidden; height: 160px;
Â  Â  }
Â  Â  .measure-btn:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.4); border-color: rgba(255,255,255,0.4); }
Â  Â  .measure-btn i { font-size: 2.5rem; transition: 0.3s; }
Â  Â  .measure-btn span { font-size: 1rem; font-weight: 600; text-align: center; color: #fff; }

Â  Â  /* Colors */
Â  Â  .temp { border-bottom: 4px solid #ff7e5f; } .temp i { color: #ff7e5f; }
Â  Â  .pulse { border-bottom: 4px solid #ff416c; } .pulse i { color: #ff416c; }
Â  Â  .pressure { border-bottom: 4px solid #6a11cb; } .pressure i { color: #6a11cb; }
Â  Â  .oxygen { border-bottom: 4px solid #00c6ff; } .oxygen i { color: #00c6ff; }
Â  Â  .vision { border-bottom: 4px solid #43e97b; } .vision i { color: #43e97b; }

Â  Â  /* History Bar */
Â  Â  .history-bar {
Â  Â  Â  width: 100%; max-width: 900px;
Â  Â  Â  background: linear-gradient(90deg, rgba(161, 140, 209, 0.1), rgba(251, 194, 235, 0.1));
Â  Â  Â  border: 1px solid rgba(161, 140, 209, 0.4); border-radius: 20px; padding: 20px;
Â  Â  Â  display: flex; align-items: center; justify-content: center; gap: 20px;
Â  Â  Â  cursor: pointer; margin-bottom: 40px; transition: 0.3s;
Â  Â  Â  backdrop-filter: blur(10px); box-sizing: border-box;
Â  Â  }
Â  Â  .history-bar:hover { transform: scale(1.02); border-color: var(--history-color); box-shadow: 0 0 25px rgba(161, 140, 209, 0.3); }
Â  Â  .history-bar i { font-size: 2rem; color: var(--history-color); }
Â  Â  .history-bar span { font-size: 1.2rem; font-weight: 600; color: #fff; text-transform: uppercase; }

Â  Â  /* Exit Button */
Â  Â  .close-btn {
Â  Â  Â  background: linear-gradient(45deg, #cb2d3e, #ef473a);
Â  Â  Â  color: white; border: none; padding: 12px 40px; border-radius: 50px;
Â  Â  Â  font-size: 16px; font-family: 'Poppins', sans-serif; font-weight: 600;
Â  Â  Â  cursor: pointer; box-shadow: 0 4px 15px rgba(239, 71, 58, 0.4);
Â  Â  Â  transition: 0.3s; display: flex; align-items: center; gap: 10px; margin-top: auto;
Â  Â  }
Â  Â  .close-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(239, 71, 58, 0.6); }

Â  Â  /* --- FLOATING BUTTONS --- */
Â  Â  .fab-container { position: fixed; bottom: 30px; z-index: 1000; }
Â  Â  .fab-right { right: 30px; }
Â  Â  .fab-left { left: 30px; }

Â  Â  .hospital-fab {
Â  Â  Â  width: 65px; height: 65px; border-radius: 50%;
Â  Â  Â  background: linear-gradient(135deg, #ff416c, #ff4b2b);
Â  Â  Â  color: white; border: none; box-shadow: 0 4px 15px rgba(255, 65, 108, 0.5);
Â  Â  Â  cursor: pointer; display: flex; align-items: center; justify-content: center;
Â  Â  Â  font-size: 28px; transition: 0.3s; animation: pulse-fab 2s infinite;
Â  Â  }
Â  Â  .hospital-fab:hover { transform: scale(1.1); box-shadow: 0 6px 20px rgba(255, 65, 108, 0.7); }

Â  Â  .analyze-fab {
Â  Â  Â  width: 65px; height: 65px; border-radius: 50%;
Â  Â  Â  background: linear-gradient(135deg, #6c5ce7, #a29bfe);
Â  Â  Â  color: white; border: none; box-shadow: 0 4px 15px rgba(108, 92, 231, 0.5);
Â  Â  Â  cursor: pointer; display: flex; align-items: center; justify-content: center;
Â  Â  Â  font-size: 28px; transition: 0.3s; animation: float-fab 3s ease-in-out infinite;
Â  Â  }
Â  Â  .analyze-fab:hover { transform: scale(1.1); box-shadow: 0 6px 20px rgba(108, 92, 231, 0.7); }

Â  Â  @keyframes pulse-fab { 0% { box-shadow: 0 0 0 0 rgba(255, 65, 108, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(255, 65, 108, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 65, 108, 0); } }
Â  Â  @keyframes float-fab { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

Â  Â  /* --- SIDEBAR --- */
Â  Â  .sidebar-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1999; display: none; opacity: 0; transition: opacity 0.3s; }
Â  Â  .sidebar-overlay.active { display: block; opacity: 1; }
Â  Â  .sidebar {
Â  Â  Â  Â  position: fixed; top: 0; left: -350px; width: 320px; height: 100%;
Â  Â  Â  Â  background: rgba(15, 32, 39, 0.95); backdrop-filter: blur(15px); border-right: 1px solid var(--ai-color);
Â  Â  Â  Â  box-shadow: 5px 0 30px rgba(0,0,0,0.5); z-index: 2000; transition: left 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
Â  Â  Â  Â  padding: 20px; box-sizing: border-box; display: flex; flex-direction: column;
Â  Â  }
Â  Â  .sidebar.active { left: 0; }
Â  Â  .sidebar-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; margin-bottom: 20px; }
Â  Â  .sidebar-header h3 { margin: 0; color: var(--ai-color); font-size: 1.3rem; display: flex; gap: 10px; align-items: center; }
Â  Â  .close-sidebar { background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer; transition: 0.3s; }
Â  Â  .close-sidebar:hover { color: var(--error-color); transform: rotate(90deg); }
Â  Â  .sidebar-content label { display: block; color: #ccc; margin-bottom: 5px; font-size: 0.9rem; text-align: left; }
Â  Â  .sidebar-input { width: 100%; padding: 12px; margin-bottom: 15px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 10px; color: white; font-size: 1rem; box-sizing: border-box; }
Â  Â  .sidebar-input:focus { outline: none; border-color: var(--ai-color); }
Â  Â  .calc-btn { width: 100%; padding: 12px; background: var(--ai-color); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.3s; }
Â  Â  .calc-btn:hover { background: #3a7bd5; transform: scale(1.02); }
Â  Â  .result-box { margin-top: 25px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px; border-left: 4px solid var(--ai-color); font-size: 0.95rem; line-height: 1.5; color: #eee; display: none; }

Â  Â  /* Toast */
Â  Â  .toast-container { position: fixed; top: 20px; right: 20px; z-index: 3000; display: flex; flex-direction: column; gap: 10px; }
Â  Â  .toast { background: rgba(16, 30, 40, 0.95); color: white; padding: 15px 25px; border-radius: 12px; display: flex; align-items: center; gap: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.4); border-left: 5px solid; animation: slideIn 0.4s ease, fadeOut 0.5s ease 4s forwards; }
Â  Â  @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }
Â  Â  @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
Â  Â  .toast-error { border-color: var(--error-color); } .toast-error i { color: var(--error-color); }
Â  Â  .toast-info { border-color: var(--ai-color); } .toast-info i { color: var(--ai-color); }

Â  Â  /* ========================================= */
Â  Â  /* RESPONSIVE MOBILE DESIGNÂ  Â  Â  Â  Â  Â  Â  Â  Â  */
Â  Â  /* ========================================= */
Â  Â  @media screen and (max-width: 768px) {
Â  Â  Â  body { padding: 10px; }
Â  Â  Â Â 
Â  Â  Â  header { padding: 5px 0; }
Â  Â  Â  header img { width: 35px; height: 35px; }
Â  Â  Â  header h1 { font-size: 0.9rem; letter-spacing: 0; }
Â  Â  Â Â 
Â  Â  Â  .user-card, .ai-card {Â 
Â  Â  Â  Â  padding: 15px;Â 
Â  Â  Â  Â  flex-direction: column;Â 
Â  Â  Â  Â  align-items: flex-start;
Â  Â  Â  Â  gap: 10px;
Â  Â  Â  }
Â  Â  Â  .user-card .top-actions {Â 
Â  Â  Â  Â  width: 100%; justify-content: space-between; margin-top: 10px;
Â  Â  Â  }
Â  Â  Â  .status-dot { margin-left: 0; }

Â  Â  Â  .measure-container {
Â  Â  Â  Â  grid-template-columns: repeat(2, 1fr); /* 2 columns for mobile */
Â  Â  Â  Â  gap: 10px;
Â  Â  Â  }
Â  Â  Â  .measure-btn { height: 110px; padding: 10px; }
Â  Â  Â  .measure-btn i { font-size: 2rem; margin-bottom: 5px; }
Â  Â  Â  .measure-btn span { font-size: 0.8rem; }

Â  Â  Â  /* Resize Floating Buttons */
Â  Â  Â  .hospital-fab, .analyze-fab { width: 50px; height: 50px; font-size: 20px; }
Â  Â  Â  .fab-container { bottom: 20px; }
Â  Â  Â  .fab-right { right: 20px; }
Â  Â  Â  .fab-left { left: 20px; }

Â  Â  Â  .sidebar { width: 85%; }
Â  Â  Â  .history-bar { padding: 15px; margin-bottom: 80px; }
Â  Â  Â  .history-bar i { font-size: 1.5rem; }
Â  Â  Â  .history-bar span { font-size: 1rem; }
Â  Â  }

Â  </style>
</head>
<body>

Â  <div class="toast-container" id="toastContainer"></div>

Â  <div class="fab-container fab-right">
Â  Â  <button class="hospital-fab" id="hospitalBtn" onclick="findHospitals()" title="Nearest Hospitals">
Â  Â  Â  <i class="fas fa-ambulance"></i>
Â  Â  </button>
Â  </div>

Â  <div class="fab-container fab-left">
Â  Â  <button class="analyze-fab" id="analyzeBtn" onclick="toggleSidebar(true)" title="Smart Body Analysis">
Â  Â  Â  <i class="fas fa-chart-pie"></i>
Â  Â  </button>
Â  </div>

Â  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar(false)"></div>
Â  <div class="sidebar" id="smartSidebar">
Â  Â  <div class="sidebar-header">
Â  Â  Â  <h3 id="sidebarTitle"><i class="fas fa-brain"></i> Smart Check</h3>
Â  Â  Â  <button class="close-sidebar" onclick="toggleSidebar(false)">Ã—</button>
Â  Â  </div>
Â  Â  <div class="sidebar-content">
Â  Â  Â  <label id="lblWeight">Weight (kg) / Ø§Ù„ÙˆØ²Ù†</label>
Â  Â  Â  <input type="number" id="inputWeight" class="sidebar-input" placeholder="e.g. 75">
Â  Â  Â Â 
Â  Â  Â  <label id="lblHeight">Height (cm) / Ø§Ù„Ø·ÙˆÙ„</label>
Â  Â  Â  <input type="number" id="inputHeight" class="sidebar-input" placeholder="e.g. 175">
Â  Â  Â Â 
Â  Â  Â  <button class="calc-btn" onclick="calculateHealthRisk()" id="btnAnalyze">Analyze Health / ØªØ­Ù„ÙŠÙ„</button>
Â  Â  Â Â 
Â  Â  Â  <div id="analysisResult" class="result-box"></div>
Â  Â  </div>
Â  </div>

Â  <div class="user-card">
Â  Â  <i class="fas fa-user-circle"></i>
Â  Â  <h2 id="titleText">User: <span id="currentUserName">Unknown</span></h2>
Â  Â Â 
Â  Â  <div class="top-actions">
Â  Â  Â  <button class="icon-btn whatsapp-btn" id="whatsappBtn" onclick="sendWhatsAppReport()" title="Send Report to WhatsApp">
Â  Â  Â  Â  <i class="fab fa-whatsapp"></i>
Â  Â  Â  </button>
Â  Â  Â  <button class="icon-btn active" id="voiceToggle" onclick="toggleHoverVoice()" title="Toggle Voice Guide">
Â  Â  Â  Â  <i class="fas fa-volume-up"></i>
Â  Â  Â  </button>
Â  Â  Â  <button class="icon-btn" onclick="toggleFullScreen()" title="Full Screen">
Â  Â  Â  Â  <i class="fas fa-expand"></i>
Â  Â  Â  </button>
Â  Â  Â  <div id="connectionStatus" class="status-dot" title="Online"></div>
Â  Â  </div>
Â  </div>

Â  <div class="ai-card">
Â  Â  <div class="ai-icon"><i class="fas fa-robot"></i></div>
Â  Â  <div class="ai-content">
Â  Â  Â  <h3 id="aiTitle">AI Health Analysis</h3>
Â  Â  Â  <p id="aiText">Waiting for measurements to generate analysis...</p>
Â  Â  </div>
Â  Â  <div id="lastReadingTime" style="position: absolute; bottom: 8px; right: 20px; font-size: 0.8rem; color: #aaa;">Last updated: --</div>
Â  </div>

Â  <div class="measure-container">
Â  Â  <div class="measure-btn temp" id="tempBtn" onclick="goToTemperature()">
Â  Â  Â  <i class="fas fa-thermometer-half"></i> <span>Temperature</span>
Â  Â  </div>
Â  Â  <div class="measure-btn pulse" id="pulseBtn" onclick="goToPulse()">
Â  Â  Â  <i class="fas fa-heartbeat"></i> <span>Pulse Rate</span>
Â  Â  </div>
Â  Â  <div class="measure-btn pressure" id="bpBtn" onclick="goToPressure()">
Â  Â  Â  <i class="fas fa-stethoscope"></i> <span>Blood Pressure</span>
Â  Â  Â  <div id="bpValue" style="font-weight: 700; color: #fff; font-size: 1.1rem; position: absolute; bottom: 5px;">--</div>
Â  Â  </div>
Â  Â  <div class="measure-btn oxygen" id="oxygenBtn" onclick="goToOxygen()">
Â  Â  Â  <i class="fas fa-lungs"></i> <span>Oxygen (SpO2)</span>
Â  Â  Â  <div id="spo2Value" style="font-weight: 700; color: #fff; font-size: 1.1rem; position: absolute; bottom: 5px;">--</div>
Â  Â  </div>
Â  Â  <div class="measure-btn vision" id="visionBtn" onclick="goToVisionPage()">
Â  Â  Â  <i class="fas fa-eye"></i> <span>Vision Test</span>
Â  Â  </div>
Â  </div>

Â  <div class="history-bar" id="historyBtn" onclick="goToHistory()">
Â  Â  <i class="fas fa-file-medical-alt"></i>
Â  Â  <span>View History & Reports</span>
Â  </div>

Â  <button class="close-btn" id="exitBtn" onclick="closeMeasurements()">
Â  Â  <i class="fas fa-sign-out-alt"></i> Exit Dashboard
Â  </button>

Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

Â  <script>
Â  Â  // *** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ 1: ØªØ­Ø¯ÙŠØ« Ù…ÙØ§ØªÙŠØ­ Firebase Config ***
Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyAOwMQhsRM2PdD_FLjW_8Oi1WlFS3EO5pY",
Â  Â  Â  authDomain: "smart-a76a0.firebaseapp.com",
Â  Â  Â  databaseURL: "https://smart-a76a0-default-rtdb.firebaseio.com",
Â  Â  Â  projectId: "smart-a76a0",
Â  Â  Â  messagingSenderId: "343693501983",
Â  Â  Â  appId: "1:343693501983:web:10ea3fce9d990a2455172a"
Â  Â  };

Â  Â  firebase.initializeApp(firebaseConfig);
Â  Â  const db = firebase.database();

    const PATIENT_DATA_PATH = 'PatientData';
    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Patient ID) Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
Â  Â  const currentUserId = localStorage.getItem("selectedUserId"); 
Â  Â  const userSpan = document.getElementById('currentUserName');
    
Â  Â  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
Â  Â  if(!currentUserId) window.location.href="index.html"; 
    else userSpan.innerText = currentUserId;

Â  Â  // --- SMART SIDEBAR LOGIC (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ) ---
Â  Â  function toggleSidebar(show) {
Â  Â  Â  const sidebar = document.getElementById("smartSidebar");
Â  Â  Â  const overlay = document.getElementById("sidebarOverlay");
Â  Â  Â  if(show) {
Â  Â  Â  Â  sidebar.classList.add("active");
Â  Â  Â  Â  overlay.classList.add("active");
Â  Â  Â  } else {
Â  Â  Â  Â  sidebar.classList.remove("active");
Â  Â  Â  Â  overlay.classList.remove("active");
Â  Â  Â  }
Â  Â  }

Â  Â  // ØªØ­Ù„ÙŠÙ„ BMI - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† currentData
Â  Â  function calculateHealthRisk() {
Â  Â  Â  const weight = parseFloat(document.getElementById("inputWeight").value);
Â  Â  Â  const height = parseFloat(document.getElementById("inputHeight").value);
Â  Â  Â  const resultBox = document.getElementById("analysisResult");
Â  Â  Â  const lang = localStorage.getItem("language") || "en";

Â  Â  Â  if(!weight || !height) {
Â  Â  Â  Â  resultBox.style.display = "block";
Â  Â  Â  Â  resultBox.style.borderLeftColor = "#ff416c";
Â  Â  Â  Â  resultBox.innerText = lang === "ar" ? "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ø·ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­." : "Please enter valid Weight and Height.";
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  const h_m = height / 100;
Â  Â  Â  const bmi = (weight / (h_m * h_m)).toFixed(1);
Â  Â  Â Â 
Â  Â  Â  let status = "";
Â  Â  Â  let color = "";
Â  Â  Â Â 
Â  Â  Â  if(bmi < 18.5) { status = lang==="ar"?"Ù†Ø­Ø§ÙØ©":"Underweight"; color="#3498db"; }
Â  Â  Â  else if(bmi < 25) { status = lang==="ar"?"ÙˆØ²Ù† Ù…Ø«Ø§Ù„ÙŠ":"Normal"; color="#2ecc71"; }
Â  Â  Â  else if(bmi < 30) { status = lang==="ar"?"ÙˆØ²Ù† Ø²Ø§Ø¦Ø¯":"Overweight"; color="#f1c40f"; }
Â  Â  Â  else { status = lang==="ar"?"Ø³Ù…Ù†Ø©":"Obese"; color="#e74c3c"; }

Â  Â  Â  let riskMsg = "";
      // ÙŠØ¬Ø¨ ØªØ­Ù„ÙŠÙ„ BP Ùˆ Pulse Ù…Ù† SensorData (Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù†ØµÙŠØ©)
Â  Â  Â  const currentBP = currentData.bp ? parseInt(currentData.bp.split('/')[0]) : 0; 
Â  Â  Â  const currentPulse = parseInt(currentData.bpm) || 0;

Â  Â  Â  if(bmi >= 30) {
Â  Â  Â  Â  if(currentBP > 130) riskMsg = lang==="ar" ? "âš ï¸ ØªØ­Ø°ÙŠØ±: Ø§Ù„Ø³Ù…Ù†Ø© Ù…Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù… Ø§Ù„Ù…Ø±ØªÙØ¹ ØªØ²ÙŠØ¯ Ø®Ø·Ø± Ø§Ù„Ù‚Ù„Ø¨." : "âš ï¸ Warning: Obesity + High BP increases cardiovascular risk.";
Â  Â  Â  Â  else if(currentPulse > 100) riskMsg = lang==="ar" ? "âš ï¸ ØªØ­Ø°ÙŠØ±: Ø§Ù„Ø³Ù…Ù†Ø© ØªØ³Ø¨Ø¨ Ø¥Ø¬Ù‡Ø§Ø¯Ø§Ù‹ Ù„Ø¹Ø¶Ù„Ø© Ø§Ù„Ù‚Ù„Ø¨." : "âš ï¸ Warning: Obesity is stressing your heart rate.";
Â  Â  Â  Â  else riskMsg = lang==="ar" ? "Ù†ØµÙŠØ­Ø©: Ø¥Ù†Ù‚Ø§Øµ Ø§Ù„ÙˆØ²Ù† ÙŠØ­Ø³Ù† ØµØ­ØªÙƒ Ø§Ù„Ø¹Ø§Ù…Ø©." : "Tip: Weight loss will improve overall vitals.";
Â  Â  Â  } else if (bmi < 18.5) {
Â  Â  Â  Â  Â riskMsg = lang==="ar" ? "Ù†ØµÙŠØ­Ø©: ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø³Ù„ÙŠÙ…Ø© Ù„ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø¹Ø©." : "Tip: Ensure proper nutrition to boost immunity.";
Â  Â  Â  } else {
Â  Â  Â  Â  Â riskMsg = lang==="ar" ? "Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ­ÙŠ Ø§Ù„Ù…Ù…ØªØ§Ø²! âœ…" : "Keep up the great healthy lifestyle! âœ…";
Â  Â  Â  }

Â  Â  Â  resultBox.style.display = "block";
Â  Â  Â  resultBox.style.borderLeftColor = color;
Â  Â  Â  resultBox.innerHTML = `<strong>BMI: ${bmi}</strong> (${status})<br><br>${riskMsg}`;
Â  Â  Â Â 
Â  Â  Â  if(voiceEnabled) {
Â  Â  Â  Â  Â const utterance = new SpeechSynthesisUtterance(lang==="ar" ? `Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… Ù‡Ùˆ ${bmi}. ${status}` : `Your BMI is ${bmi}. You are ${status}`);
Â  Â  Â  Â  Â utterance.lang = lang==="ar"?'ar-SA':'en-US';
Â  Â  Â  Â  Â window.speechSynthesis.speak(utterance);
Â  Â  Â  }
Â  Â  }

Â  Â  // --- DATA & AI LOGIC (ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ù…Ø³Ø§Ø± Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©) ---
Â  Â  let currentData = { temp: "--", bpm: "--", bp: "--", spo2: "--" };
    let lastTimestamp = "--";
    
    // Ø¯Ø§Ù„Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù†ØµÙŠØ© Ø¥Ù„Ù‰ Ø£Ø¬Ø²Ø§Ø¡ (Ù…Ø«Ø§Ù„: Temp=37.1, HR=75)
    function extractSensorValues(sensorString) {
        const values = {};
        if (sensorString && sensorString !== "No measurement recorded yet") {
            sensorString.split(',').forEach(item => {
                const parts = item.trim().split('=');
                if (parts.length === 2) {
                    const key = parts[0].trim().toLowerCase();
                    const value = parts[1].trim();
                    if (key === 'temp') values.temp = value;
                    else if (key === 'hr') values.bpm = value;
                    else if (key === 'bp') values.bp = value;
                    else if (key === 'o2' || key === 'spo2') values.spo2 = value;
                }
            });
        }
        return values;
    }

Â  Â  function updateAIAnalysis() {
Â  Â  Â  if(!currentUserId) return;
        
        // *** Ù…Ø³Ø§Ø± Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµØ­ÙŠØ­: PatientData/Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ***
Â  Â  Â  const userRef = db.ref(PATIENT_DATA_PATH + '/' + currentUserId);

Â  Â  Â  userRef.once("value").then((snapshot) => { // Ù†Ø³ØªØ®Ø¯Ù… once Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¢Ø®Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
Â  Â  Â  Â  if(snapshot.exists()) {
Â  Â  Â  Â  Â  Â  const data = snapshot.val();
            const sensorDataString = data.SensorData || "No measurement recorded yet";
            const sensorValues = extractSensorValues(sensorDataString);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
Â  Â  Â  Â  Â  Â  currentData = {
Â  Â  Â  Â  Â  Â  Â  Â  temp: sensorValues.temp || "--",
Â  Â  Â  Â  Â  Â  Â  Â  bpm: sensorValues.bpm || "--",
Â  Â  Â  Â  Â  Â  Â  Â  bp: sensorValues.bp || "--",
Â  Â  Â  Â  Â  Â  Â  Â  spo2: sensorValues.spo2 || "--"
Â  Â  Â  Â  Â  Â  };
            lastTimestamp = data.Timestamp || "--";

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            document.getElementById('bpValue').innerText = currentData.bp;
            document.getElementById('spo2Value').innerText = currentData.spo2 + (currentData.spo2 !== '--' ? '%' : '');
            document.getElementById('lastReadingTime').innerText = (lang === 'ar' ? 'Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ' : 'Last updated: ') + lastTimestamp;
            
            
Â  Â  Â  Â  Â  Â  const temp = parseFloat(currentData.temp) || 0;
Â  Â  Â  Â  Â  Â  const bpm = parseInt(currentData.bpm) || 0;
Â  Â  Â  Â  Â  Â  const spo2 = parseFloat(currentData.spo2) || 0;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let analysis = "";
Â  Â  Â  Â  Â  Â  let status = "normal";Â 
            
            if (sensorDataString === "No measurement recorded yet") {
                analysis = lang === "ar" ? "ÙŠØ±Ø¬Ù‰ Ø¨Ø¯Ø¡ Ø£ÙˆÙ„ Ù‚ÙŠØ§Ø³ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù„ÙŠÙ„." : "Please take your first measurement to generate analysis.";
                status = "info";
            }
Â  Â  Â  Â  Â  Â  else if (temp > 38 && bpm > 100) {
Â  Â  Â  Â  Â  Â  Â  analysis = lang === "ar" ? "ØªØ­Ø°ÙŠØ±: Ù…Ø¤Ø´Ø±Ø§Øª Ø­Ù…Ù‰. Ø§Ø³ØªØ´Ø± Ø·Ø¨ÙŠØ¨." : "Warning: Fever signs. Consult doctor.";
Â  Â  Â  Â  Â  Â  Â  status = "danger";
Â  Â  Â  Â  Â  Â  } else if (spo2 > 0 && spo2 < 95) {
Â  Â  Â  Â  Â  Â  Â  analysis = lang === "ar" ? "ØªØ­Ø°ÙŠØ±: Ù†Ù‚Øµ Ø£ÙƒØ³Ø¬ÙŠÙ†." : "Warning: Low Oxygen.";
Â  Â  Â  Â  Â  Â  Â  status = "danger";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â analysis = lang === "ar" ? "Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ© Ù…Ø³ØªÙ‚Ø±Ø©." : "Vital signs are stable.";
Â  Â  Â  Â  Â  Â  Â  Â status = "normal";
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  document.getElementById("aiText").innerText = analysis;
Â  Â  Â  Â  Â  Â  const card = document.querySelector(".ai-card");
Â  Â  Â  Â  Â  Â  if(status === "danger") card.style.borderColor = "#ff416c";
Â  Â  Â  Â  Â  Â  else if (status === "normal") card.style.borderColor = "#00ff88";
            else card.style.borderColor = "#00d2ff";
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  }

Â  Â  // --- UTILS (ØªÙ… ØªÙ†Ù‚ÙŠØ­Ù‡Ø§) ---
Â  Â  async function checkInternetConnection() { try { await fetch("https://www.google.com/favicon.ico?"+new Date().getTime(),{mode:"no-cors"});return true;}catch(e){return false;}}
Â  Â  async function updateStatus(){const d=document.getElementById('connectionStatus');if(await checkInternetConnection()){d.classList.remove('offline');d.title="Online";}else{d.classList.add('offline');d.title="Offline";showToast((localStorage.getItem('language') === 'ar' ? "ÙÙ‚Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„!" : "Connection Lost!"),"error");}}
Â  Â  setInterval(updateStatus,3000);

Â  Â  function showToast(msg,type="info"){const c=document.getElementById("toastContainer");const t=document.createElement("div");t.className=`toast toast-${type}`;t.innerHTML=`<i class="fas fa-info-circle"></i><span>${msg}</span>`;c.appendChild(t);setTimeout(()=>t.remove(),3000);}
Â  Â Â 
Â  Â  // ØªØ¹Ø¯ÙŠÙ„ Ù„ÙŠØ±Ø³Ù„ ÙƒÙ„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©
Â  Â  function sendWhatsAppReport(){
Â  Â  Â  Â  let phone = currentUserId; 
        if (phone.startsWith('0')) phone = '20' + phone.substring(1);

Â  Â  Â  Â  let m=`ğŸ¥ *Bioscan Report (%0AUpdated: ${lastTimestamp})*%0A- Temp: ${currentData.temp}%0A- Pulse: ${currentData.bpm}%0A- BP: ${currentData.bp}%0A- Ox: ${currentData.spo2}`;
        
        if(localStorage.getItem('language') === 'ar') m = `ğŸ¥ *ØªÙ‚Ø±ÙŠØ± Ø¨Ø§ÙŠÙˆ Ø³ÙƒØ§Ù†*%0A(Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${lastTimestamp})%0A- Ø§Ù„Ø­Ø±Ø§Ø±Ø©: ${currentData.temp}%0A- Ø§Ù„Ù†Ø¨Ø¶: ${currentData.bpm}%0A- Ø§Ù„Ø¶ØºØ·: ${currentData.bp}%0A- Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†: ${currentData.spo2}`;
        
Â  Â  Â  Â  window.open(`https://wa.me/${phone}?text=${m}`,'_blank');
Â  Â  }
Â  Â Â 
Â  Â  function findHospitals(){window.open("http://maps.google.com/maps?q=nearest+hospitals","_blank");} // ØªÙ… ØªØµØ­ÙŠØ­ Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±Ø§Ø¦Ø·
Â  Â  function toggleFullScreen(){if(!document.fullscreenElement)document.documentElement.requestFullscreen();else if(document.exitFullscreen)document.exitFullscreen();}
Â  Â  function closeMeasurements(){localStorage.removeItem("selectedUserId");window.location.href="index.html";}
Â  Â Â 
Â  Â  let idle=0; setInterval(()=>{idle++;if(idle>=90)closeMeasurements();},1000);
Â  Â  document.onmousemove=document.onkeypress=document.ontouchstart=document.onclick=()=>{idle=0;};

Â  Â  // --- HOVER VOICE (Ø¨Ø§Ù‚ÙŠ ÙƒÙ…Ø§ Ù‡Ùˆ) ---
Â  Â  let voiceEnabled=true;
Â  Â  function toggleHoverVoice(){voiceEnabled=!voiceEnabled;document.getElementById('voiceToggle').classList.toggle('active');}
Â  Â  function setupHoverVoice(){
Â  Â  Â  Â  const map={
Â  Â  Â  Â  Â  Â  'analyzeBtn':{ar:'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø³Ù… Ø§Ù„Ø°ÙƒÙŠ',en:'Smart Body Analysis'},
Â  Â  Â  Â  Â  Â  'hospitalBtn':{ar:'Ø£Ù‚Ø±Ø¨ Ù…Ø³ØªØ´ÙÙ‰',en:'Nearest Hospital'},
Â  Â  Â  Â  Â  Â  'tempBtn':{ar:'Ù‚ÙŠØ§Ø³ Ø§Ù„Ø­Ø±Ø§Ø±Ø©',en:'Measure Temperature'},
Â  Â  Â  Â  Â  Â  'pulseBtn':{ar:'Ù‚ÙŠØ§Ø³ Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ù„Ø¨',en:'Measure Heart Rate'},
Â  Â  Â  Â  Â  Â  'bpBtn':{ar:'Ù‚ÙŠØ§Ø³ Ø¶ØºØ· Ø§Ù„Ø¯Ù…',en:'Measure Blood Pressure'},
Â  Â  Â  Â  Â  Â  'oxygenBtn':{ar:'Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†',en:'Measure Oxygen Level'},
Â  Â  Â  Â  Â  Â  'visionBtn':{ar:'ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø±',en:'Vision Test'},
Â  Â  Â  Â  Â  Â  'historyBtn':{ar:'Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ',en:'Medical History'},
Â  Â  Â  Â  Â  Â  'whatsappBtn':{ar:'Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨',en:'Send via WhatsApp'},
Â  Â  Â  Â  Â  Â  'exitBtn':{ar:'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',en:'Logout'}
Â  Â  Â  Â  };
Â  Â  Â  Â  Object.keys(map).forEach(id=>{
Â  Â  Â  Â  Â  Â  const b=document.getElementById(id);
Â  Â  Â  Â  Â  Â  if(b){
Â  Â  Â  Â  Â  Â  Â  Â  b.onmouseenter=()=>{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(!voiceEnabled) return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.speechSynthesis.cancel();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const u=new SpeechSynthesisUtterance(localStorage.getItem('language')==='ar'?map[id].ar:map[id].en);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  u.lang=localStorage.getItem('language')==='ar'?'ar-SA':'en-US';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.speechSynthesis.speak(u);
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  b.onmouseleave=()=>{ window.speechSynthesis.cancel(); }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  }

Â  Â  // Nav
Â  Â  function goToTemperature(){window.location.href="temp.html";}
Â  Â  function goToPulse(){window.location.href="pulse.html";}
Â  Â  function goToPressure(){window.location.href="pressure.html";}
Â  Â  function goToOxygen(){window.location.href="oxygen.html";}
Â  Â  function goToVisionPage(){window.location.href="instruction.html";}
Â  Â  function goToHistory(){window.location.href="history.html";}

Â  Â  const lang = localStorage.getItem("language") || "en";
Â  Â  function applyLanguage(){
Â  Â  Â  Â  if(lang==="ar"){
Â  Â  Â  Â  Â  Â  document.body.style.direction="rtl";
Â  Â  Â  Â  Â  Â  document.getElementById("titleText").innerHTML=`Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: <span>${currentUserId}</span>`;
Â  Â  Â  Â  Â  Â  document.getElementById("aiTitle").innerText="Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ";
Â  Â  Â  Â  Â  Â  document.getElementById("sidebarTitle").innerHTML='<i class="fas fa-brain"></i> Ø§Ù„ÙØ­Øµ Ø§Ù„Ø°ÙƒÙŠ';
Â  Â  Â  Â  Â  Â  document.getElementById("lblWeight").innerText="Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)";
Â  Â  Â  Â  Â  Â  document.getElementById("lblHeight").innerText="Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)";
Â  Â  Â  Â  Â  Â  document.getElementById("btnAnalyze").innerText="ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬";
Â  Â  Â  Â  Â  Â  document.getElementById("hospitalBtn").title="Ø£Ù‚Ø±Ø¨ Ù…Ø³ØªØ´ÙÙ‰";
Â  Â  Â  Â  Â  Â  document.getElementById("analyzeBtn").title="ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø³Ù…";
Â  Â  Â  Â  Â  Â  document.querySelector("#tempBtn span").innerText="Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©";
Â  Â  Â  Â  Â  Â  document.querySelector("#pulseBtn span").innerText="Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ù„Ø¨";
Â  Â  Â  Â  Â  Â  document.querySelector("#bpBtn span").innerText="Ø¶ØºØ· Ø§Ù„Ø¯Ù…";
Â  Â  Â  Â  Â  Â  document.querySelector("#oxygenBtn span").innerText="Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†";
Â  Â  Â  Â  Â  Â  document.querySelector("#visionBtn span").innerText="ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø±";
Â  Â  Â  Â  Â  Â  document.querySelector("#historyBtn span").innerText="Ø§Ù„Ø³Ø¬Ù„ ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±";
Â  Â  Â  Â  Â  Â  document.querySelector("#exitBtn").innerHTML='<i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  applyLanguage();
Â  Â  window.onload = () => {Â 
Â  Â  Â  Â  updateAIAnalysis();Â 
Â  Â  Â  Â  if ('speechSynthesis' in window) {
Â  Â  Â  Â  Â  Â  window.speechSynthesis.onvoiceschanged = () => { setupHoverVoice(); };
Â  Â  Â  Â  Â  Â  setTimeout(setupHoverVoice, 500);
Â  Â  Â  Â  }
Â  Â  };
Â  </script>
</body>
</html>
