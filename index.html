<!DOCTYPE html>
<html lang="en">

<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Bioscan ATM | Patient Dashboard</title>
Â Â 
Â  Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script> Â Â 
Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Orbitron:wght@500&display=swap" rel="stylesheet">
Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

Â  <style>
    /* ... (CSS Styles remain the same) ... */
Â  Â  :root {
Â  Â  Â  --primary-color: #00d2ff;
Â  Â  Â  --secondary-color: #3a7bd5;
Â  Â  Â  --error-color: #ff416c;
Â  Â  Â  --success-color: #00ff88;
Â  Â  Â  --glass-bg: rgba(255, 255, 255, 0.1);
Â  Â  Â  --glass-border: rgba(255, 255, 255, 0.2);
Â  Â  Â  --text-color: #ffffff;
Â  Â  }

Â  Â  /* --- VIDEO BACKGROUND STYLES --- */
Â  Â  #bgVideo {
Â  Â  Â  position: fixed; right: 0; bottom: 0;
Â  Â  Â  min-width: 100%; min-height: 100%;
Â  Â  Â  z-index: -2; object-fit: cover;
Â  Â  }
Â  Â  .video-overlay {
Â  Â  Â  position: fixed; inset: 0;
Â  Â  Â  background: rgba(15, 32, 39, 0.75);Â 
Â  Â  Â  z-index: -1;
Â  Â  }

Â  Â  /* --- CUSTOM SCROLLBAR --- */
Â  Â  ::-webkit-scrollbar { width: 10px; }
Â  Â  ::-webkit-scrollbar-track { background: #1a1a1a; }
Â  Â  ::-webkit-scrollbar-thumb {
Â  Â  Â  background: linear-gradient(180deg, var(--primary-color), var(--secondary-color));Â 
Â  Â  Â  border-radius: 10px; border: 2px solid #1a1a1a;
Â  Â  }
Â  Â  ::-webkit-scrollbar-thumb:hover { background: var(--success-color); }

Â  Â  body {
Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  margin: 0; padding: 0;
Â  Â  Â  background-color: #0f2027; /* Fallback color */
Â  Â  Â  min-height: 100vh;
Â  Â  Â  display: flex; flex-direction: column; align-items: center;
Â  Â  Â  color: var(--text-color); overflow-x: hidden;
Â  Â  }

Â  Â  /* Pre-loader Styles */
Â  Â  #preloader {
Â  Â  Â  position: fixed; inset: 0; background: #0f2027; z-index: 9999;
Â  Â  Â  display: flex; flex-direction: column; justify-content: center; align-items: center;
Â  Â  Â  transition: opacity 0.8s ease, visibility 0.8s;
Â  Â  }
Â  Â  .loader-logo {
Â  Â  Â  width: 80px; height: 80px; border-radius: 50%; border: 3px solid var(--primary-color);
Â  Â  Â  box-shadow: 0 0 30px var(--primary-color); animation: pulseLoader 1.5s infinite;
Â  Â  }
Â  Â  .loader-text {
Â  Â  Â  margin-top: 20px; font-family: 'Orbitron', sans-serif; font-size: 1.5rem; letter-spacing: 2px;
Â  Â  Â  background: linear-gradient(to right, #fff, #00d2ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
Â  Â  }
Â  Â  @keyframes pulseLoader {
Â  Â  Â  0% { transform: scale(1); opacity: 1; }
Â  Â  Â  50% { transform: scale(1.1); opacity: 0.8; }
Â  Â  Â  100% { transform: scale(1); opacity: 1; }
Â  Â  }
Â  Â  Â Â 
Â  Â  /* Navbar Design */
Â  Â  header {
Â  Â  Â  width: 100%;
Â  Â  Â  background: rgba(15, 32, 39, 0.8);
Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  padding: 10px 0;
Â  Â  Â  display: flex; justify-content: space-between; align-items: center;
Â  Â  Â  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
Â  Â  Â  position: fixed; top: 0; z-index: 100;
Â  Â  Â  border-bottom: 1px solid rgba(255,255,255,0.1);
Â  Â  }

Â  Â  .header-left { display: flex; align-items: center; padding-left: 20px; gap: 15px; }
Â  Â  .logo-container { position: relative; }
Â  Â  header img { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--primary-color); }
Â  Â  header h1 {
Â  Â  Â  font-size: 1.1rem; font-weight: 600; margin: 0; text-transform: uppercase; letter-spacing: 1px;
Â  Â  Â  background: linear-gradient(to right, #fff, #00d2ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
Â  Â  }

Â  Â  .live-clock {
Â  Â  Â  font-family: 'Orbitron', sans-serif; font-size: 0.9rem; color: var(--primary-color);
Â  Â  Â  text-shadow: 0 0 10px rgba(0, 210, 255, 0.5); border-left: 1px solid rgba(255,255,255,0.2);
Â  Â  Â  padding-left: 15px; margin-left: 15px; display: flex; flex-direction: column; line-height: 1.2;
Â  Â  }
Â  Â  .clock-time { font-size: 1rem; font-weight: bold; }
Â  Â  .clock-date { font-size: 0.7rem; color: #aaa; font-family: 'Poppins', sans-serif; }

Â  Â  .header-actions { padding-right: 20px; display: flex; gap: 10px; align-items: center; }

Â  Â  .status-dot {
Â  Â  Â  width: 12px; height: 12px; border-radius: 50%;
Â  Â  Â  background-color: var(--success-color);
Â  Â  Â  box-shadow: 0 0 10px var(--success-color);
Â  Â  Â  transition: all 0.3s ease; margin-top: 5px;
Â  Â  }
Â  Â  .status-dot.offline {
Â  Â  Â  background-color: #ff416c !important;
Â  Â  Â  box-shadow: 0 0 15px #ff416c !important;
Â  Â  Â  animation: blinkRed 1s infinite;
Â  Â  }
Â  Â  @keyframes blinkRed { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

Â  Â  #language_select {
Â  Â  Â  background: rgba(255, 255, 255, 0.1); color: #fff; border: 1px solid var(--primary-color);
Â  Â  Â  padding: 6px 12px; border-radius: 20px; outline: none; cursor: pointer;
Â  Â  Â  font-family: 'Poppins', sans-serif; font-size: 0.9rem;
Â  Â  }
Â  Â  #language_select option { background: #2c5364; color: #fff; }

Â  Â  .about-btn {
Â  Â  Â  background: transparent; border: 1px solid rgba(255,255,255,0.5); color: white;
Â  Â  Â  width: 35px; height: 35px; border-radius: 50%; cursor: pointer;
Â  Â  Â  display: flex; justify-content: center; align-items: center; transition: 0.3s;
Â  Â  }
Â  Â  .about-btn:hover { background: var(--primary-color); border-color: var(--primary-color); color: black; }

Â  Â  .container {
Â  Â  Â  display: flex; justify-content: center; align-items: center;
Â  Â  Â  flex-grow: 1; margin-top: 80px; width: 100%;
Â  Â  }

Â  Â  .card {
Â  Â  Â  background: rgba(16, 30, 40, 0.6); backdrop-filter: blur(20px);
Â  Â  Â  border: 1px solid var(--glass-border); border-radius: 20px;
Â  Â  Â  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); padding: 40px;
Â  Â  Â  width: 350px; text-align: center; transition: 0.3s;
Â  Â  }
Â  Â  .card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0, 210, 255, 0.2); border-color: var(--primary-color); }
Â  Â  .card h2 { margin-bottom: 25px; font-weight: 300; font-size: 1.8rem; }

Â  Â  .input-group { position: relative; margin-bottom: 5px; }
Â  Â  .input-group i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--primary-color); }

Â  Â  .form-section input {
Â  Â  Â  width: 100%; padding: 15px 15px 15px 45px;
Â  Â  Â  background: rgba(0, 0, 0, 0.3); border: none;
Â  Â  Â  border-bottom: 2px solid rgba(255,255,255,0.3);
Â  Â  Â  color: white; font-size: 16px; border-radius: 8px;
Â  Â  Â  box-sizing: border-box; transition: 0.3s; font-family: 'Poppins', sans-serif;
Â  Â  }
Â  Â  .form-section input:focus { outline: none; border-bottom-color: var(--primary-color); background: rgba(0, 0, 0, 0.5); }
Â  Â  .input-error { border-bottom-color: var(--error-color) !important; animation: shake 0.3s; }
Â  Â  @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } 100% { transform: translateX(0); } }

Â  Â  .helper-text {
Â  Â  Â  font-size: 0.8rem; color: #bbb; text-align: left; margin-bottom: 20px; min-height: 20px; padding-left: 5px; transition: 0.3s;
Â  Â  }

Â  Â  .btn-container { display: flex; flex-direction: column; gap: 15px; }
Â  Â  .btn {
Â  Â  Â  padding: 12px; border: none; border-radius: 50px; cursor: pointer;
Â  Â  Â  font-size: 16px; color: white; width: 100%; font-family: 'Poppins', sans-serif;
Â  Â  Â  font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 10px;
Â  Â  Â  transition: all 0.3s ease; position: relative; overflow: hidden;
Â  Â  }
Â  Â  .btn::after {
Â  Â  Â  content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
Â  Â  Â  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: 0.5s;
Â  Â  }
Â  Â  .btn:hover::after { left: 100%; }
Â  Â  .btn:hover { transform: scale(1.02); box-shadow: 0 0 15px rgba(0, 210, 255, 0.4); }
Â  Â  Â Â 
Â  Â  .save { background: linear-gradient(45deg, #11998e, #38ef7d); }
Â  Â  .clear { background: linear-gradient(45deg, #cb2d3e, #ef473a); }
Â  Â  .measure { background: linear-gradient(45deg, #3a7bd5, #00d2ff); }
Â  Â  .btn:disabled { background: #555; cursor: not-allowed; opacity: 0.7; }

Â  Â  /* Modal Styles */
Â  Â  .modal-overlay {
Â  Â  Â  position: fixed; inset: 0; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(8px);
Â  Â  Â  z-index: 2000; display: none; justify-content: center; align-items: center;
Â  Â  Â  opacity: 0; transition: opacity 0.3s ease;
Â  Â  }
Â  Â  .modal-overlay.active { display: flex; opacity: 1; }

Â  Â  .modal-card {
Â  Â  Â  background: linear-gradient(145deg, #152229, #1c2e36); border: 1px solid var(--primary-color);
Â  Â  Â  border-radius: 25px; width: 90%; max-width: 600px; padding: 30px; position: relative;
Â  Â  Â  text-align: center; box-shadow: 0 0 40px rgba(0, 210, 255, 0.15); transform: scale(0.8); transition: transform 0.3s ease;
Â  Â  Â  max-height: 90vh; overflow-y: auto;
Â  Â  }
Â  Â  .modal-overlay.active .modal-card { transform: scale(1); }

Â  Â  .logos-container {
Â  Â  Â  display: flex; justify-content: center; gap: 30px; margin-bottom: 20px; align-items: center;
Â  Â  }
Â  Â  .logos-container img {
Â  Â  Â  height: 70px; width: auto; object-fit: contain;
Â  Â  Â  filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); transition: transform 0.3s;
Â  Â  }
Â  Â  .logos-container img:hover { transform: scale(1.1); }

Â  Â  .close-modal {
Â  Â  Â  position: absolute; top: 15px; right: 15px; background: transparent; border: none;
Â  Â  Â  color: #fff; font-size: 1.4rem; cursor: pointer; transition: 0.3s; z-index: 10;
Â  Â  }
Â  Â  .close-modal:hover { color: var(--error-color); transform: rotate(90deg); }

Â  Â  .modal-section { margin-bottom: 20px; text-align: left; }
Â  Â  .modal-section h3 {Â 
Â  Â  Â  color: var(--primary-color); margin: 0 0 10px 0; display: flex; align-items: center; gap: 10px; font-size: 1.1rem;Â 
Â  Â  Â  border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;
Â  Â  }
Â  Â  .modal-section p { font-size: 0.9rem; color: #e0e0e0; line-height: 1.5; margin: 0; }

Â  Â  .team-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
Â  Â  .team-member {
Â  Â  Â  background: rgba(255,255,255,0.05); padding: 8px 12px; border-radius: 8px; font-size: 0.85rem;
Â  Â  Â  display: flex; align-items: center; gap: 8px; border: 1px solid transparent; transition: 0.2s;
Â  Â  }
Â  Â  .team-member:hover { border-color: var(--secondary-color); background: rgba(255,255,255,0.1); }
Â  Â  .team-member i { color: var(--secondary-color); font-size: 0.8rem; }

Â  Â  .footer-info {
Â  Â  Â  margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.85rem; color: #aaa;
Â  Â  }
Â  Â  .email-link {
Â  Â  Â  display: inline-block; margin-top: 8px; color: var(--primary-color); text-decoration: none; font-weight: bold; background: rgba(0, 210, 255, 0.1); padding: 5px 15px; border-radius: 20px;
Â  Â  }
Â  Â  .email-link:hover { background: var(--primary-color); color: #000; }

Â  Â  .modal-card::-webkit-scrollbar { width: 5px; }
Â  Â  .modal-card::-webkit-scrollbar-thumb { background: var(--primary-color); border-radius: 10px; }

Â  Â  /* Toast Notifications */
Â  Â  .toast-container {
Â  Â  Â  position: fixed; top: 90px; right: 20px; z-index: 3000;
Â  Â  Â  display: flex; flex-direction: column; gap: 10px;
Â  Â  }
Â  Â  .toast {
Â  Â  Â  background: rgba(16, 30, 40, 0.95); color: white; padding: 15px 25px;
Â  Â  Â  border-radius: 12px; min-width: 280px; display: flex; align-items: center; gap: 12px;
Â  Â  Â  box-shadow: 0 5px 20px rgba(0,0,0,0.4); border-left: 5px solid;
Â  Â  Â  animation: slideIn 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), fadeOut 0.5s ease 3s forwards;
Â  Â  Â  backdrop-filter: blur(5px);
Â  Â  }
Â  Â  @keyframes slideIn { from { transform: translateX(120%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
Â  Â  @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
Â  Â Â 
Â  Â  .toast-success { border-color: var(--success-color); }
Â  Â  .toast-success i { color: var(--success-color); font-size: 1.2rem; }
Â  Â  .toast-error { border-color: var(--error-color); }
Â  Â  .toast-error i { color: var(--error-color); font-size: 1.2rem; }

Â  </style>
</head>

<body>

Â  <video autoplay muted loop playsinline id="bgVideo">
Â  Â  <source src="background.mp4" type="video/mp4">
Â  </video>
Â  <div class="video-overlay"></div>

Â  <div id="preloader">
Â  Â  <img src="https://cdn-icons-png.flaticon.com/512/2966/2966487.png" class="loader-logo" alt="Loading...">
Â  Â  <div class="loader-text">BIOSCAN ATM</div>
Â  </div>

Â  <div class="toast-container" id="toastContainer"></div>

Â  <div class="modal-overlay" id="aboutModal">
Â  Â  <div class="modal-card">
Â  Â  Â  <button class="close-modal" onclick="toggleModal(false)"><i class="fas fa-times"></i></button>
Â  Â  Â  <div class="logos-container">
Â  Â  Â  Â  <img src="zagazig_logo.png" alt="Zagazig Univ">
Â  Â  Â  Â  <img src="eng_logo.png" alt="Engineering Faculty">
Â  Â  Â  </div>
Â  Â  Â  <h2 style="margin-top:0; margin-bottom:5px; font-size: 1.5rem; color: #fff;">Bioscan ATM</h2>
Â  Â  Â  <p style="font-size: 0.8rem; color: #aaa; margin-bottom: 20px;" id="project-context">
Â  Â  Â  Â  Graduation Project 2024 | Electronics & Comm. Dept.
Â  Â  Â  </p>
Â  Â  Â  <div class="modal-section">
Â  Â  Â  Â  <h3><i class="fas fa-bullseye"></i> <span id="mission-title">Our Mission</span></h3>
Â  Â  Â  Â  <p id="mission-text">Empowering communities with instant, hospital-grade health diagnostics through accessible IoT technology, bridging the gap between patients and medical care.</p>
Â  Â  Â  </div>
Â  Â  Â  <div class="modal-section">
Â  Â  Â  Â  <h3><i class="fas fa-eye"></i> <span id="vision-title">Our Vision</span></h3>
Â  Â  Â  Â  <p id="vision-text">A world where proactive health monitoring is seamless, accessible to everyone everywhere, fostering a culture of prevention over cure.</p>
Â  Â  Â  </div>
Â  Â  Â  <div class="modal-section">
Â  Â  Â  Â  <h3><i class="fas fa-users"></i> <span id="team-title">The Team</span></h3>
Â  Â  Â  Â  <div class="team-grid">
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Mohsen M. Elsayed</div>
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Mohamed A. Rashad</div>
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Mohamed A. Karam</div>
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Hossam H. Abdel Aziz</div>
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Lamia I. Mohammed</div>
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Karim H. Mansour</div>
Â  Â  Â  Â  Â  <div class="team-member"><i class="fas fa-user-graduate"></i> Fatema M. Saad</div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  <div class="footer-info">
Â  Â  Â  Â  <div id="uni-text">Zagazig University - Faculty of Engineering</div>
Â  Â  Â  Â  <a href="mailto:bioscanatm@gmail.com" class="email-link"><i class="fas fa-envelope"></i> bioscanatm@gmail.com</a>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <header>
Â  Â  <div class="header-left">
Â  Â  Â  <div class="logo-container">
Â  Â  Â  Â  <img src="https://cdn-icons-png.flaticon.com/512/2966/2966487.png" alt="Logo">
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â  Â  Â  <h1 id="header-title">Patient Monitoring</h1>
Â  Â  Â  Â  <div class="live-clock">
Â  Â  Â  Â  Â  <span class="clock-time" id="clockTime">00:00:00</span>
Â  Â  Â  Â  Â  <span class="clock-date" id="clockDate">--/--/----</span>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <div class="header-actions">
Â  Â  Â  <div id="connectionStatus" class="status-dot" title="Online"></div>
Â  Â  Â  <button class="about-btn" onclick="toggleModal(true)" title="About Us"><i class="fas fa-info"></i></button>
Â  Â  Â  <div class="lang-wrapper">
Â  Â  Â  Â  <select id="language_select" onchange="setLanguage()">
Â  Â  Â  Â  Â  <option value="placeholder" selected hidden>ğŸŒ Lang</option>
Â  Â  Â  Â  Â  <option value="en">English</option>
Â  Â  Â  Â  Â  <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
Â  Â  Â  Â  </select>
Â  Â  Â  </div>
Â  Â  </div>
Â  </header>

Â  <div class="container">
Â  Â  <div class="card form-section">
Â  Â  Â  <h2 id="card-title">User Login</h2>
Â  Â  Â  <div class="input-group">
Â  Â  Â  Â  <i class="fas fa-mobile-alt"></i>
Â  Â  Â  Â  <input type="tel" id="userId" placeholder="Mobile Number (01xxxxxxxxx)" maxlength="11" oninput="validateInput(this)" onfocus="showGuidance()" onblur="hideGuidance()" autocomplete="off">
Â  Â  Â  </div>
Â  Â  Â  <div class="helper-text" id="helper-text"></div>
Â  Â  Â  <div class="btn-container">
Â  Â  Â  Â  <button id="save-btn" class="btn save" onclick="saveUserId()"><i class="fas fa-check-circle"></i> <span class="btn-text-save">Login & Save</span></button>
Â  Â  Â  Â  <button class="btn clear" onclick="clearUserId()"><i class="fas fa-trash-alt"></i> <span class="btn-text-clear">Clear</span></button>
Â  Â  Â  Â  <button class="btn measure" onclick="goToMeasurements()"><i class="fas fa-chart-line"></i> <span class="btn-text-measure">Dashboard</span></button>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  // *** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ 1: ØªØ­Ø¯ÙŠØ« Ù…ÙØ§ØªÙŠØ­ Firebase Config ***
Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyAOwMQhsRM2PdD_FLjW_8Oi1WlFS3EO5pY",
Â  Â  Â  authDomain: "smart-a76a0.firebaseapp.com",
Â  Â  Â  databaseURL: "https://smart-a76a0-default-rtdb.firebaseio.com",
Â  Â  Â  projectId: "smart-a76a0",
Â  Â  Â  messagingSenderId: "343693501983",
Â  Â  Â  appId: "1:343693501983:web:10ea3fce9d990a2455172a"
Â  Â  Â  // ØªÙ… Ø­Ø°Ù storageBucket Ùˆ measurementId Ù„Ø£Ù†Ù‡Ù…Ø§ ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠÙŠÙ† Ù„Ø¹Ù…Ù„ÙŠØ§Øª Auth/DB
Â  Â  };

Â  Â  firebase.initializeApp(firebaseConfig);
Â  Â  const database = firebase.database();
    // ØªÙ… Ø¥Ø¶Ø§ÙØ© Firebase Auth
    const auth = firebase.auth(); 
    
    const PATIENT_DATA_PATH = 'PatientData'; 

Â  Â  let currentUserId = null;
Â  Â  const lang = localStorage.getItem("language") || "en";
Â  Â  let welcomePlayed = false;

    // *** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ 2: Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„ÙØ§Ø±Øº ***
    function createInitialProfile(userPhone) {
        // Ù†Ø³ØªØ®Ø¯Ù… Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙƒÙ€ Key ÙÙŠ PatientData
        const ref = database.ref(PATIENT_DATA_PATH + '/' + userPhone);

        // Ù†Ø³ØªØ®Ø¯Ù… once() Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù†Ø§ Ù„Ø§ Ù†Ù†Ø´Ø¦ Ø§Ù„Ù…Ù„Ù Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ Ø¨Ø§Ù„ÙØ¹Ù„
        ref.once('value')
            .then(snapshot => {
                if (!snapshot.exists()) {
                    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø±ØºØ©
                    return ref.set({
                        Phone: userPhone,
                        SensorData: "No measurement recorded yet",
                        Timestamp: new Date().toLocaleString(),
                        AddedBy: "Self-Registered"
                    });
                }
                return null; // Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„
            })
            .catch(error => {
                console.error("Firebase Profile Setup Error:", error);
                showToast(lang === "ar" ? "ÙØ´Ù„ Ø±Ø¨Ø· Ø§Ù„Ù…Ù„Ù (Auth/DB)" : "Failed to link profile (Auth/DB)", "error");
            });
    }

Â  Â  // --- WELCOME VOICE FUNCTION ---
Â  Â  function playWelcomeMessage() {
Â  Â  Â  // Prevent playing multiple times in one session if unwanted
Â  Â  Â  if (welcomePlayed) return;

Â  Â  Â  const enText = "Welcome to Bioscan ATM Station. Please enter your mobile number to proceed.";
Â  Â  Â  const arText = "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù…Ø­Ø·Ø© Ø¨Ø§ÙŠÙˆØ³ÙƒØ§Ù†. ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.";

Â  Â  Â  // Check support
Â  Â  Â  if ('speechSynthesis' in window) {
Â  Â  Â  Â  // Create English Utterance
Â  Â  Â  Â  const uEn = new SpeechSynthesisUtterance(enText);
Â  Â  Â  Â  uEn.lang = 'en-US';
Â  Â  Â  Â  uEn.rate = 0.9;

Â  Â  Â  Â  // Create Arabic Utterance
Â  Â  Â  Â  const uAr = new SpeechSynthesisUtterance(arText);
Â  Â  Â  Â  uAr.lang = 'ar-SA';
Â  Â  Â  Â  uAr.rate = 0.9;

Â  Â  Â  Â  // Queue them: English first, then Arabic
Â  Â  Â  Â  window.speechSynthesis.cancel(); // Clear any pending speech
Â  Â  Â  Â  window.speechSynthesis.speak(uEn);
Â  Â  Â  Â  window.speechSynthesis.speak(uAr);
Â  Â  Â  Â Â 
Â  Â  Â  Â  welcomePlayed = true;
Â  Â  Â  }
Â  Â  }

Â  Â  // --- ATTEMPT AUTO-PLAY ON LOAD ---
Â  Â  window.addEventListener('load', () => {
Â  Â  Â  Â  // 1. Try playing immediately (might be blocked)
Â  Â  Â  Â  playWelcomeMessage();

Â  Â  Â  Â  // 2. Add fallback listener for first interaction
Â  Â  Â  Â  const triggerAudio = () => {
Â  Â  Â  Â  Â  Â  playWelcomeMessage();
Â  Â  Â  Â  Â  Â  // Remove listeners after first interaction to avoid repeating
Â  Â  Â  Â  Â  Â  document.removeEventListener('click', triggerAudio);
Â  Â  Â  Â  Â  Â  document.removeEventListener('keydown', triggerAudio);
Â  Â  Â  Â  Â  Â  document.removeEventListener('touchstart', triggerAudio);
Â  Â  Â  Â  };

Â  Â  Â  Â  document.addEventListener('click', triggerAudio);
Â  Â  Â  Â  document.addEventListener('keydown', triggerAudio);
Â  Â  Â  Â  document.addEventListener('touchstart', triggerAudio);

Â  Â  Â  Â  // Preloader Logic
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  const preloader = document.getElementById('preloader');
Â  Â  Â  Â  Â  Â  preloader.style.opacity = '0';
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  preloader.style.display = 'none';
Â  Â  Â  Â  Â  Â  }, 800);
Â  Â  Â  Â  }, 1500);
Â  Â  });

Â  Â  // --- CONNECTION STATUS ---
Â  Â  async function checkInternetConnection() {
Â  Â  Â  try {
Â  Â  Â  Â  await fetch("https://www.google.com/favicon.ico?" + new Date().getTime(), { mode: "no-cors" });
Â  Â  Â  Â  return true;
Â  Â  Â  } catch (error) { return false; }
Â  Â  }
Â  Â  async function updateStatus() {
Â  Â  Â  const dot = document.getElementById('connectionStatus');
Â  Â  Â  const isOnline = await checkInternetConnection();
Â  Â  Â  if (isOnline) {
Â  Â  Â  Â  dot.classList.remove('offline'); dot.title = "Online"; dot.style.backgroundColor = "";Â 
Â  Â  Â  } else {
Â  Â  Â  Â  if (!dot.classList.contains('offline')) showToast(lang === 'ar' ? "ÙÙ‚Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª!" : "Internet Connection Lost!", "error");
Â  Â  Â  Â  dot.classList.add('offline'); dot.title = "Offline"; dot.style.backgroundColor = "#ff416c";
Â  Â  Â  }
Â  Â  }
Â  Â  setInterval(updateStatus, 3000);

Â  Â  // --- CLOCK ---
Â  Â  function startClock() {
Â  Â  Â  const timeElem = document.getElementById('clockTime');
Â  Â  Â  const dateElem = document.getElementById('clockDate');
Â  Â  Â  setInterval(() => {
Â  Â  Â  Â  const now = new Date();
Â  Â  Â  Â  const locale = lang === 'ar' ? 'ar-EG' : 'en-US';
Â  Â  Â  Â  timeElem.innerText = now.toLocaleTimeString(locale, {hour12: false});
Â  Â  Â  Â  dateElem.innerText = now.toLocaleDateString(locale, {weekday: 'short', day: 'numeric', month: 'short'});
Â  Â  Â  }, 1000);
Â  Â  }
Â  Â  startClock();

Â  Â  // --- UTILS ---
Â  Â  function showToast(message, type = "success") {
Â  Â  Â  const container = document.getElementById("toastContainer");
Â  Â  Â  const toast = document.createElement("div");
Â  Â  Â  toast.className = `toast toast-${type}`;
Â  Â  Â  const icon = type === "success" ? "fa-check-circle" : "fa-exclamation-circle";
Â  Â  Â  toast.innerHTML = `<i class="fas ${icon}"></i> <span>${message}</span>`;
Â  Â  Â  container.appendChild(toast);
Â  Â  Â  setTimeout(() => { toast.remove(); }, 3500);
Â  Â  }
Â  Â  function toggleModal(show) {
Â  Â  Â  const modal = document.getElementById('aboutModal');
Â  Â  Â  if(show) modal.classList.add('active'); else modal.classList.remove('active');
Â  Â  }
Â  Â  function validateInput(input) {
Â  Â  Â  input.value = input.value.replace(/[^0-9]/g, '');
Â  Â  Â  const helper = document.getElementById("helper-text");
Â  Â  Â  input.classList.remove("input-error");
Â  Â  Â  helper.style.color = "#bbb";
Â  Â  Â  helper.innerText = lang === "ar" ? `Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…: ${input.value.length} / 11` : `Digits: ${input.value.length} / 11`;
Â  Â  }
Â  Â  function showGuidance() {
Â  Â  Â  const helper = document.getElementById("helper-text");
Â  Â  Â  helper.innerText = lang === "ar" ? "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù…ÙˆØ¨Ø§ÙŠÙ„ ØµØ­ÙŠØ­ (11 Ø±Ù‚Ù…)" : "Please enter a valid 11-digit mobile number";
Â  Â  }
Â  Â  function hideGuidance() {
Â  Â  Â  if(document.getElementById("userId").value.length === 0) document.getElementById("helper-text").innerText = "";
Â  Â  }

    // *** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ 3: Ù…Ù†Ø·Ù‚ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ***
Â  Â  function saveUserId() {
Â  Â  Â  const input = document.getElementById("userId");
Â  Â  Â  const userId = input.value; // userId Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
Â  Â  Â  const helper = document.getElementById("helper-text");
Â  Â  Â  const regex = /^01[0125][0-9]{8}$/;

Â  Â  Â  if (regex.test(userId)) {
Â  Â  Â  Â  // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Firebase Auth (Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ Ø¨Ø¯ÙˆÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù…)
        // Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… AuthØŒ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡Ù†Ø§

        // 2. Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø§Ø¬Ø­:
Â  Â  Â  Â  currentUserId = userId;
        
        // 3. Ø¥Ù†Ø´Ø§Ø¡/ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ÙÙŠ PatientData
        createInitialProfile(userId);
        
        // 4. ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆØ­ÙØ¸ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
Â  Â  Â  Â  input.disabled = true;
Â  Â  Â  Â  document.getElementById("save-btn").disabled = true;
Â  Â  Â  Â  helper.style.color = "#00ff88";
Â  Â  Â  Â  helper.innerText = "";
Â  Â  Â  Â  showToast(lang === "ar" ? "ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­" : "Login Successful", "success");
Â  Â  Â  Â  
Â  Â  Â  Â  document.getElementById("save-btn").innerHTML = '<i class="fas fa-check"></i> ' + (lang === "ar" ? "ØªÙ… Ø§Ù„Ø­ÙØ¸" : "Saved");
Â  Â  Â  Â  localStorage.setItem("selectedUserId", userId);

        // *** ØªÙ… Ø­Ø°Ù Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚Ø¯ÙŠÙ…: database.ref("/current users/" + userId).push({ ... }); ***

Â  Â  Â  } else {
Â  Â  Â  Â  input.classList.add("input-error");
Â  Â  Â  Â  helper.style.color = "#ff416c";
Â  Â  Â  Â  let errorMsg = lang === "ar" ? "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø±Ù‚Ù…" : "Invalid Number";
Â  Â  Â  Â  if (userId.length === 0) errorMsg = lang === "ar" ? "Ø§Ù„Ø­Ù‚Ù„ ÙØ§Ø±Øº" : "Field Empty";
Â  Â  Â  Â  else if (userId.length !== 11) errorMsg = lang === "ar" ? "ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…" : "Must be 11 digits";
Â  Â  Â  Â  helper.innerText = errorMsg;
Â  Â  Â  Â  showToast(errorMsg, "error");
Â  Â  Â  }
Â  Â  }

Â  Â  function clearUserId() {
Â  Â  Â  const input = document.getElementById("userId");
Â  Â  Â  input.value = ""; input.disabled = false; input.classList.remove("input-error");
Â  Â  Â  document.getElementById("save-btn").disabled = false;
Â  Â  Â  document.getElementById("helper-text").innerText = "";
Â  Â  Â  currentUserId = null;
Â  Â  Â  updateTexts();
Â  Â  Â  localStorage.removeItem("selectedUserId");
Â  Â  }

Â  Â  function goToMeasurements() {
Â  Â  Â  const savedId = localStorage.getItem("selectedUserId");
Â  Â  Â  if(!savedId) {
Â  Â  Â  Â  showToast(lang === "ar" ? "ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹!" : "Please Login First!", "error");
Â  Â  Â  Â  const card = document.querySelector(".card");
Â  Â  Â  Â  card.style.animation = "shake 0.3s";
Â  Â  Â  Â  setTimeout(() => card.style.animation = "", 300);
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  window.location.href = "measurements.html";
Â  Â  }

Â  Â  function setLanguage() {
Â  Â  Â  const langVal = document.getElementById("language_select").value;
Â  Â  Â  if (langVal !== "placeholder") {
Â  Â  Â  Â  localStorage.setItem("language", langVal);
Â  Â  Â  Â  location.reload();
Â  Â  Â  }
Â  Â  }

    // *** Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ 4: Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„ÙØ§Ø±Øº ***
    const PATIENT_DATA_PATH = 'PatientData'; 
    function createInitialProfile(userPhone) {
        const ref = database.ref(PATIENT_DATA_PATH + '/' + userPhone);

        // Ù†Ø³ØªØ®Ø¯Ù… once() Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù†Ø§ Ù„Ø§ Ù†Ù†Ø´Ø¦ Ø§Ù„Ù…Ù„Ù Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ Ø¨Ø§Ù„ÙØ¹Ù„
        ref.once('value')
            .then(snapshot => {
                if (!snapshot.exists()) {
                    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø±ØºØ©
                    return ref.set({
                        Phone: userPhone,
                        SensorData: "No measurement recorded yet", // Ù‚ÙŠÙ…Ø© Ù…Ø¨Ø¯Ø¦ÙŠØ©
                        Timestamp: new Date().toLocaleString(),
                        AddedBy: "Self-Registered"
                    });
                }
                return null; // Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„
            })
            .catch(error => {
                console.error("Firebase Profile Setup Error:", error);
                showToast(lang === "ar" ? "ÙØ´Ù„ Ø±Ø¨Ø· Ø§Ù„Ù…Ù„Ù" : "Failed to link profile", "error");
            });
    }

Â  Â  function updateTexts() {
Â  Â  Â  if (lang === "ar") {
Â  Â  Â  Â  document.body.style.direction = "rtl";Â 
Â  Â  Â  Â  document.getElementById("header-title").innerText = "Ù†Ø¸Ø§Ù… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰";
Â  Â  Â  Â  document.getElementById("card-title").innerText = "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";
Â  Â  Â  Â  document.getElementById("userId").placeholder = "Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (01xxxxxxxxx)";
Â  Â  Â  Â  document.querySelector(".btn-text-save").innerText = "ØªØ³Ø¬ÙŠÙ„ ÙˆØ­ÙØ¸";
Â  Â  Â  Â  document.querySelector(".btn-text-clear").innerText = "Ù…Ø³Ø­";
Â  Â  Â  Â  document.querySelector(".btn-text-measure").innerText = "Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª";
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.querySelector(".header-left").style.paddingRight = "20px";
Â  Â  Â  Â  document.querySelector(".header-left").style.paddingLeft = "0";
Â  Â  Â  Â  document.querySelector(".header-actions").style.paddingLeft = "20px";
Â  Â  Â  Â  document.querySelector(".header-actions").style.paddingRight = "0";
Â  Â  Â  Â  document.querySelector(".input-group i").style.right = "15px";
Â  Â  Â  Â  document.querySelector(".input-group i").style.left = "auto";
Â  Â  Â  Â  document.querySelector(".form-section input").style.padding = "15px 45px 15px 15px";
Â  Â  Â  Â  document.getElementById("helper-text").style.textAlign = "right";
Â  Â  Â  Â  document.querySelector(".close-modal").style.left = "15px";
Â  Â  Â  Â  document.querySelector(".close-modal").style.right = "auto";
Â  Â  Â  Â  document.querySelector(".live-clock").style.borderRight = "1px solid rgba(255,255,255,0.2)";
Â  Â  Â  Â  document.querySelector(".live-clock").style.borderLeft = "none";
Â  Â  Â  Â  document.querySelector(".live-clock").style.paddingRight = "15px";
Â  Â  Â  Â  document.querySelector(".live-clock").style.paddingLeft = "0";
Â  Â  Â  Â  document.querySelector(".live-clock").style.marginRight = "15px";
Â  Â  Â  Â  document.querySelector(".live-clock").style.marginLeft = "0";

Â  Â  Â  Â  document.querySelector(".modal-card h2").innerText = "Ø¹Ù† Ù…Ø´Ø±ÙˆØ¹ Bioscan ATM";
Â  Â  Â  Â  document.getElementById("project-context").innerText = "Ù…Ø´Ø±ÙˆØ¹ ØªØ®Ø±Ø¬ Ø¯ÙØ¹Ø© 2024 | Ù‚Ø³Ù… Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª ÙˆØ§Ù„Ø§ØªØµØ§Ù„Ø§Øª";
Â  Â  Â  Â  document.getElementById("mission-title").innerText = "Ù…Ù‡Ù…ØªÙ†Ø§";
Â  Â  Â  Â  document.getElementById("mission-text").innerText = "ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ù…Ù† Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ´Ø®ÙŠØµØ§Øª ØµØ­ÙŠØ© ÙÙˆØ±ÙŠØ© ÙˆØ¯Ù‚ÙŠÙ‚Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯Ø« ØªÙ‚Ù†ÙŠØ§Øª Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ (IoT)ØŒ Ù„Ø³Ø¯ Ø§Ù„ÙØ¬ÙˆØ© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø±Ø¶Ù‰ ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø·Ø¨ÙŠØ©.";
Â  Â  Â  Â  document.getElementById("vision-title").innerText = "Ø±Ø¤ÙŠØªÙ†Ø§";
Â  Â  Â  Â  document.getElementById("vision-text").innerText = "Ø¹Ø§Ù„Ù… ØªÙƒÙˆÙ† ÙÙŠÙ‡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØµØ­Ø© Ø§Ø³ØªØ¨Ø§Ù‚ÙŠØ© ÙˆØ³Ù„Ø³Ø© ÙˆÙ…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†ØŒ Ù„Ù†Ø´Ø± Ø«Ù‚Ø§ÙØ© Ø§Ù„ÙˆÙ‚Ø§ÙŠØ© Ø®ÙŠØ± Ù…Ù† Ø§Ù„Ø¹Ù„Ø§Ø¬.";
Â  Â  Â  Â  document.getElementById("team-title").innerText = "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„";
Â  Â  Â  Â  document.getElementById("uni-text").innerText = "Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø²Ù‚Ø§Ø²ÙŠÙ‚ - ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©";
Â  Â  Â  } else {
Â  Â  Â  Â  document.body.style.direction = "ltr";
Â  Â  Â  Â  document.getElementById("header-title").innerText = "Patient Monitoring";
Â  Â  Â  Â  document.getElementById("card-title").innerText = "User Login";
Â  Â  Â  Â  document.getElementById("userId").placeholder = "Mobile Number (01xxxxxxxxx)";
Â  Â  Â  Â  document.querySelector(".btn-text-save").innerText = "Login & Save";
Â  Â  Â  Â  document.querySelector(".btn-text-clear").innerText = "Clear";
Â  Â  Â  Â  document.querySelector(".btn-text-measure").innerText = "Dashboard";
Â  Â  Â  Â  document.querySelector(".input-group i").style.left = "15px";
Â  Â  Â  Â  document.querySelector(".input-group i").style.right = "auto";
Â  Â  Â  Â  document.querySelector(".form-section input").style.padding = "15px 15px 15px 45px";
Â  Â  Â  Â  document.getElementById("helper-text").style.textAlign = "left";
Â  Â  Â  Â  document.querySelector(".close-modal").style.right = "15px";
Â  Â  Â  Â  document.querySelector(".close-modal").style.left = "auto";
Â  Â  Â  Â  document.querySelector(".modal-card h2").innerText = "Bioscan ATM";
Â  Â  Â  Â  document.getElementById("project-context").innerText = "Graduation Project 2024 | Electronics & Comm. Dept.";
Â  Â  Â  Â  document.getElementById("mission-title").innerText = "Our Mission";
Â  Â  Â  Â  document.getElementById("mission-text").innerText = "Empowering communities with instant, hospital-grade health diagnostics through accessible IoT technology, bridging the gap between patients and medical care.";
Â  Â  Â  Â  document.getElementById("vision-title").innerText = "Our Vision";
Â  Â  Â  Â  document.getElementById("vision-text").innerText = "A world where proactive health monitoring is seamless, accessible to everyone everywhere, fostering a culture of prevention over cure.";
Â  Â  Â  Â  document.getElementById("team-title").innerText = "The Team";
Â  Â  Â  Â  document.getElementById("uni-text").innerText = "Zagazig University - Faculty of Engineering";
Â  Â  Â  }
Â  Â  }

Â  Â  window.onload = () => {
Â  Â  Â  const savedLang = localStorage.getItem("language");
Â  Â  Â  if (savedLang) document.getElementById("language_select").value = savedLang;
Â  Â  Â  updateTexts();
Â  Â  };
Â  </script>

</body>
</html>
